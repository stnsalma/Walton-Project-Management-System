@using System.Diagnostics
@using Microsoft.Ajax.Utilities
@using ProjectManagement.Models
@model ProjectManagement.ViewModels.Production.VmChargerProduction
@{

    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*<link href="~/Content/icheck/skins/all.css" rel="stylesheet" />
<link href="~/Content/bootstrap-fileinput/bootstrap-fileinput.css" rel="stylesheet" />
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
<script src="~/Content/bootstrap-fileinput/bootstrap-fileinput.js"></script>
<script src="~/Content/icheck/icheck.min.js"></script>*@
<script src="~/Scripts/moment.js"></script>

<script src="~/Content/bootstrap-datetimepicker/bootstrap-datetimepicker.js"></script>
<link href="~/Content/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" />

@*datatable *@
<link href="~/assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet" type="text/css" />
<link href="~/assets/layouts/layout4/css/layout.min.css" rel="stylesheet" type="text/css" />
<link href="~/assets/layouts/layout4/css/themes/light.min.css" rel="stylesheet" type="text/css" id="style_color" />
<link href="~/assets/layouts/layout4/css/custom.min.css" rel="stylesheet" type="text/css" />
@*datatable *@
<script src="~/Scripts/jquery.table2excel.js"></script>
<link href="~/Content/loadingText.css" rel="stylesheet" />
<style>
    input[type=checkbox] {
        /* Double-sized Checkboxes */
        -ms-transform: scale(2); /* IE */
        -moz-transform: scale(2); /* FF */
        -webkit-transform: scale(2); /* Safari and Chrome */
        -o-transform: scale(2); /* Opera */
        padding: 10px;
    }
</style>

<div class="note note-success">
    <p style="color: green;font-size: 20px;"> Mobile Charger Production Plan </p>
</div>

<div class="row">
    <div class="col-md-12">

        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption" style="color: brown;">
                    <span class="caption-subject #569450 sbold uppercase"> CHARGER PLAN REPORT</span>
                </div>
                <a id="dlink" style="display:none;"></a>
                <button class="btn green btn-outline btn-circle btn-sm pull-right" onclick="tableToExcel('proChargerPlanTable', 'ChargerPlan', 'ChargerPlan.xls')">
                    <i class="fa fa-save"></i>
                    Export as Excell
                </button>
            </div>
            <div class="portlet box">
                <div class="portlet-title">
                    <div class="caption" style="color:brown;">
                        <i class="fa fa-cogs"></i>ALL PLAN
                    </div>
                    <div class="tools" style="background-color:green;">
                        <a title="" data-original-title="" href="javascript:;" class="collapse"> </a>
                        <a title="" data-original-title="" href="#portlet-config" data-toggle="modal" class="config"> </a>
                        <a title="" data-original-title="" href="javascript:;" class="reload"> </a>
                        <a title="" data-original-title="" href="javascript:;" class="remove"> </a>
                    </div>
                </div>
                <div class="portlet-body">
                    <div class="table-scrollable" style="overflow: auto;">
                        <table id="proChargerPlanTable" class="table table-striped table-scrollable table-bordered table-hover tbl2">
                            <thead class="flip-content" style="background-color:  green;color: white">
                                <tr>
                                    <th style="text-align: center;">Product Date </th>
                                    <th style="text-align: center;">SMT-Material<br />Receive<br />Date</th>

                                    <th style="text-align: center;">SMT-IQC<br />Complete<br />Date</th>

                                    <th style="text-align: center;">SMT-Trial<br />Production<br />Date</th>

                                    <th style="text-align: center;">SMT-SmtMass<br />Production<br />Date</th>

                                    <th style="text-align: center;">Housing-Material<br />ReceiveDate</th>

                                    <th style="text-align: center;">Housing-IQC<br />Complete<br />Date</th>

                                    <th style="text-align: center;">Housing-Trial<br />Production<br />Date</th>

                                    <th style="text-align: center;">Housing-Reliability<br />Test<br />Date</th>

                                    <th style="text-align: center;">Housing-Mass<br />Production<br />Date</th>

                                    <th style="text-align: center;">Assembly-Material<br />Receive<br />Date</th>

                                    <th style="text-align: center;">Assembly-IQC<br />Complete<br />Date</th>

                                    <th style="text-align: center;">Assembly-Trial<br />Production<br />Date</th>

                                    <th style="text-align: center;">Assembly-R&D<br /> Confirmation<br />Date</th>

                                    <th style="text-align: center;">Assembly-Production<br />Date</th>

                                </tr>
                            </thead>
                            <tbody id="tBodyForGraph" class="tBodyForGraph"></tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="row">
    <div class="col-md-12">

        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">

                    <span class="caption-subject #569450 sbold uppercase">ALL PROJECTS</span>
                </div>
            </div>
            <div class="portlet box #E2E8E4">

                <div class="portlet-body">
                    <div class="col-lg-12">
                        <div class="col-lg-2"></div>
                        <div class="col-lg-5">
                            @Html.DropDownListFor(model => model.ProjectName, new SelectList(ViewBag.Projects, "Value", "Text"), "SELECT PROJECT", new { @class = "form-control ddChosen dropForProject1 ", id = "dropForProject", style = "text-align: center;" })

                        </div>
                        <div class="col-lg-1"></div>
                        <div class="col-lg-2">
                            @*<input type="button" id="btnforname" class="btn sbold uppercase btn-outline blue" value="Load Project" onclick="location.href='@Url.Action("SwQcSpecification", "Software")?projectId=' + $('option:selected', $('#ProjectMasterId')).val()  " />+ '&AssignId=@Model.SwQcAssignModels[0].SwQcAssignId'*@
                            @*<input type="button" id="btnForSearch" class="btn sbold uppercase btn-outline blue" value="Load Project" onclick="location.href='@Url.Action("ChargerPlan", "Production")?projectId=' + $('option:selected', $('#dropForProject')).val()+'&projectName=' + $('option:selected', $('#dropForProject')).text()" />*@

                            <input type="button" id="btnForSearch" class="btn sbold uppercase btn-outline blue" value="Load Project" />

                        </div>
                        <div class="col-lg-2"></div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption" style="color: brown;">
                    <span class="caption-subject #569450 sbold uppercase"> CHARGER PLAN</span>
                </div>
            </div>
            <div class="portlet box">
                <div class="portlet-title">
                    <div class="caption" style="color:brown;">
                        <i class="fa fa-cogs"></i>ALL CHARGER PLAN
                    </div>
                    <div class="tools" style="background-color:#75AE42;">
                        <a title="" data-original-title="" href="javascript:;" class="collapse"> </a>
                        <a title="" data-original-title="" href="#portlet-config" data-toggle="modal" class="config"> </a>
                        <a title="" data-original-title="" href="javascript:;" class="reload"> </a>
                        <a title="" data-original-title="" href="javascript:;" class="remove"> </a>
                    </div>
                </div>
                <div><button id="rfBtn" class="btn sbold uppercase btn-outline cbp-animation-unfold">Refresh If necessary</button></div>
                <div class="portlet-body">
                    <div class="table-scrollable divSearchedvalue" id="divSearchedvalue" style="overflow: auto; display: none;">
                        <table id="chargerPlanTable" class="table table-bordered table-striped table-scrollable table-bordered table-hover tbl">
                            <thead class="flip-content" style="background-color:  #75AE42;color: white">
                                <tr>
                                    <th style="text-align: center;">Type Of Work</th>
                                    <th style="text-align: center;">Start Date</th>
                                    <th style="text-align: center;">End Date</th>
                                </tr>
                            </thead>
                            <tbody id="tBodyForCharger" class="tBodyForCharger">
                                <tr style="text-align: center;" class="tr1" id="tr1">

                                    <th style="text-align: center;font-weight: bold;color:brown" class="col-lg-4">
                                        @*PROJECT NAME : @Request.QueryString["projectName"]<br /> PROCESS : SMT*@
                                        <div class="col-lg-2">
                                            <input type="checkbox" id="smtChkId" class="smtChkId" name="smt" value="smt_CheckBx">
                                        </div>
                                        <div class="col-lg-8">
                                            <input id="smtProName" class="form-control" type="text" disabled="disabled" style="text-align: center;font-weight: bold;color:brown" />

                                        </div>
                                        <div class="col-lg-2">PROCESS : SMT</div>

                                        <br />
                                    </th>
                                </tr>
                                <tr class="tr2" id="tr2">
                                    <td>Material Receiving in Inventory</td>
                                    <td>

                                        @Html.TextBoxFor(model => model.MaterialReceiveStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialStartDateSmt", id = "materialReceiveStartDateSmt", @disabled = "disabled", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })

                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.MaterialReceiveEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialEndDateSmt", id = "materialReceiveEndDateSmt", @disabled = "disabled", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })
                                    </td>

                                </tr>
                                <tr class="tr3" id="tr3">
                                    <td>IQC Confirmation</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.IqcCompleteStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcStartDateSmt", style = "text-align: center;", id = "iqcCompleteStartDateSmt", @disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.IqcCompleteEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcEndDateSmt", style = "text-align: center;", @disabled = "disabled", id = "iqcCompleteEndDateSmt", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>

                                </tr>
                                <tr>
                                    <td>Trial Production</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.TrialProductionStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialStartDateSmt", style = "text-align: center;", @disabled = "disabled", id = "trialProductionStartDateSmt", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.TrialProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialEndDateSmt", style = "text-align: center;", @disabled = "disabled", id = "trialProductionEndDateSmt", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })

                                    </td>

                                </tr>
                                <tr>
                                    <td>SMT Mass Production</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.SmtMassProductionStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker massProStartDateSmt", style = "text-align: center;", id = "massProductionStartDateSmt", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })


                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.SmtMassProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker massProEndDateSmt", @disabled = "disabled", style = "text-align: center;", id = "massProductionEndDateSmt", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })

                                    </td>

                                </tr>
                                <tr>
                                    <td style="width: 100px;"></td>
                                    <td>
                                        <div style="color:blue;font-weight: bold;">Total Quantity</div>
                                        <input id="chargerSmt_TotalQuantity" class="form-control" type="number" min="1" style="width: 66%;" onchange="chargerSmtTotalQuantityCheck()" />
                                        <div style="color:blue;font-weight: bold;">PerDayCapacity</div>
                                        <input id="chargerSmt_PerDayCapacity" class="form-control" type="number" min="1" style="width: 66%;" />
                                        <div style="color:blue;font-weight: bold;">Select Line</div>
                                        <select id="smtMassLineInfo" class="smtMassLineInfo chosen" multiple="multiple" style="width: 66%;" onchange="smtLineInfoFunc()">
                                            <option value="0">SELECT LINE</option>

                                        </select>
                                    </td>

                                    <td style="color:blue;font-weight: bold;">

                                        <table id="smtAllLineInformation" class="table table-bordered table-striped table-condensed table-scrollable flip-content smtAllLineInformation">
                                            <thead class="flip-content" style="background-color:lightslategray;color: white">
                                                <tr>
                                                    <th style="text-align: center;">Date_Booked</th>
                                                    <th style="text-align: center;">Line<br />Number  </th>
                                                    <th style="text-align: center;">Line<br />Capacity  </th>
                                                    <th style="text-align: center;">Booked<br />PerDay<br />Capacity  </th>
                                                    <th style="text-align: center;">Available<br />Line<br />Capacity </th>

                                                </tr>
                                            </thead>
                                            <tbody class="smAllLineTBody" id="smAllLineTBody"></tbody>
                                        </table>

                                    </td>
                                </tr>

                                <tr style="text-align: center;">
                                    <th style="text-align: center;font-weight: bold;color:brown" class="col-lg-4">
                                        @*PROJECT NAME : @Request.QueryString["projectName"]*@
                                        <div class="col-lg-2">

                                            <input type="checkbox" id="housingChkId" class="housingChkId" name="housing" value="housing_CheckBx">
                                        </div>
                                        <div class="col-lg-8">
                                            <input id="housingProName" class="form-control" type="text" disabled="disabled" style="text-align: center;font-weight: bold;color:brown" />

                                        </div>
                                        <div class="col-lg-2">PROCESS : HOUSING</div>

                                        <br />
                                    </th>
                                </tr>
                                <tr>
                                    <td>Material Receiving in Inventory</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.MaterialReceiveStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialStartDateHousing", id = "materialReceiveStartDateHousing", @disabled = "disabled", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.MaterialReceiveEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialEndDateHousing", id = "materialReceiveEndDateHousing", @disabled = "disabled", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })
                                    </td>

                                </tr>
                                <tr>
                                    <td>IQC Confirmation</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.IqcCompleteStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcStartDateHousing", style = "text-align: center;", id = "iqcCompleteStartDateHousing",@disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.IqcCompleteEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcEndDateHousing", style = "text-align: center;", id = "iqcCompleteEndDateHousing", @disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                </tr>
                                <tr>
                                    <td>Trial Production</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.TrialProductionStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialStartDateHousing", style = "text-align: center;", id = "trialProductionStartDateHousing", @disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.TrialProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialEndDateHousing", style = "text-align: center;", id = "trialProductionEndDateHousing", @disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })

                                    </td>

                                </tr>
                                <tr>
                                    <td>Housing Reliability Test</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.HousingReliabilityTestStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker housingStartDateHousing", style = "text-align: center;", @disabled = "disabled", id = "housingReliabilityStartDateHousing", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.HousingReliabilityTestEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker housingEndDateHousing", style = "text-align: center;", @disabled = "disabled", id = "housingReliabilityEndtDateHousing", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })

                                    </td>
                                </tr>
                                <tr>
                                    <td>Housing Mass Production</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.HousingMassProductionStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker housingMassStartDateHousing", style = "text-align: center;", id = "housingMassProStartDateHousing", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.HousingMassProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker housingMassEndDateHousing", @disabled = "disabled", style = "text-align: center;", id = "housingMassProEndtDateHousing", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })

                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 100px;"></td>
                                    <td>
                                        <div style="color:blue;font-weight: bold;">Total Quantity</div>
                                        <input id="chargerHousing_TotalQuantity" class="form-control" type="number" min="1" style="width: 66%;" onchange="chargerHousingTotalQuantityCheck()" />
                                        <div style="color:blue;font-weight: bold;">PerDayCapacity</div>
                                        <input id="chargerHousing_PerDayCapacity" class="form-control" type="number" min="1" style="width: 66%;" />
                                        <div style="color:blue;font-weight: bold;">Select Line</div>
                                        <select id="housingMassLineInfo" class="housingMassLineInfo chosen" multiple="multiple" onchange="housingLineInfoFunc()" style="width: 66%;">
                                            <option value="0">SELECT LINE</option>

                                        </select>
                                    </td>


                                    <td style="color:blue;font-weight: bold;">

                                        <table id="housingAllLineInformation" class="table table-bordered table-striped table-condensed table-scrollable flip-content housingAllLineInformation">
                                            <thead class="flip-content" style="background-color:lightslategray;color: white">
                                                <tr>
                                                    <th style="text-align: center;">Date_Booked</th>
                                                    <th style="text-align: center;">Line<br />Number  </th>
                                                    <th style="text-align: center;">Line<br />Capacity  </th>
                                                    <th style="text-align: center;">Booked<br />PerDay<br />Capacity  </th>
                                                    <th style="text-align: center;">Available<br />Line<br />Capacity </th>

                                                </tr>
                                            </thead>
                                            <tbody class="housingAllLineTBody" id="housingAllLineTBody"></tbody>
                                        </table>

                                    </td>
                                </tr>
                                <tr style="text-align: center;">
                                    <th style="text-align: center;font-weight: bold;color:brown" class="col-lg-4">
                                        <div class="col-lg-2">
                                            <input type="checkbox" id="assemblyChkId" class="assemblyChkId" name="assembly" value="assembly_CheckBx">
                                        </div>
                                        <div class="col-lg-8">
                                            <input id="assemblyProName" class="form-control" type="text" disabled="disabled" style="text-align: center;font-weight: bold;color:brown" />
                                        </div>
                                        <div class="col-lg-2">PROCESS : ASSEMBLY</div>

                                        <br />

                                    </th>
                                </tr>

                                <tr>
                                    <td>Material Receiving in Inventory</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.MaterialReceiveStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialStartDateAssembly", id = "materialReceiveStartDateAssembly", onchange = "materialReceiveAssemblyFunc()", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.MaterialReceiveEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialEndDateAssembly", id = "materialReceiveEndDateAssembly", @disabled = "disabled", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })
                                        @*@Html.TextBoxFor(model => model.MaterialReceiveEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker materialEndDateAssembly", id = "materialReceiveEndDateAssembly", onchange = "materialReceiveDateAssembly()", @disabled = "disabled", Type = "text", placeholder = "YYYY-MM-DD", style = "text-align: center;" })*@




                                    </td>
                                </tr>

                                <tr>
                                    <td>IQC Confirmation</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.IqcCompleteStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcStartDateAssembly", style = "text-align: center;", id = "iqcCompleteStartDateAssembly", @disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @*@Html.TextBoxFor(model => model.IqcCompleteEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcEndDateAssembly", style = "text-align: center;", id = "iqcCompleteEndDateAssembly", onchange = "iqcCompleteDateAssembly()", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })*@

                                        @Html.TextBoxFor(model => model.IqcCompleteEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker iqcEndDateAssembly", style = "text-align: center;", id = "iqcCompleteEndDateAssembly", @disabled = "disabled", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })


                                    </td>
                                </tr>
                                <tr>
                                    <td>Trial Production</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.TrialProductionStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialStartDateAssembly", @disabled = "disabled", style = "text-align: center;", id = "trialProductionStartDateAssembly", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @*@Html.TextBoxFor(model => model.TrialProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialEndDateAssembly", style = "text-align: center;", id = "trialProductionEndDateAssembly", onchange = "trialProductionDateAssembly()", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })*@
                                        @Html.TextBoxFor(model => model.TrialProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker trialEndDateAssembly", @disabled = "disabled", style = "text-align: center;", id = "trialProductionEndDateAssembly", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })


                                    </td>
                                </tr>
                                <tr>
                                    <td>R&D Confirmation</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.RandDConfirmationStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker rnDStartDateAssembly", @disabled = "disabled", style = "text-align: center;", id = "rnDConfirmStartDateAssembly", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @*@Html.TextBoxFor(model => model.RandDConfirmationEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker rnDEndDateAssembly", @disabled = "disabled", style = "text-align: center;", id = "rnDConfirmEndDateAssembly", onchange = "rnDConfirmDateAssembly()", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })*@
                                        @Html.TextBoxFor(model => model.RandDConfirmationEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker rnDEndDateAssembly", @disabled = "disabled", style = "text-align: center;", id = "rnDConfirmEndDateAssembly", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })


                                    </td>
                                </tr>
                                <tr>
                                    <td>Assembly Production</td>
                                    <td>
                                        @Html.TextBoxFor(model => model.AssemblyProductionStartDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker assemStartDateAssembly", style = "text-align: center;", id = "assembStartDateAssembly", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })
                                    </td>
                                    <td>
                                        @Html.TextBoxFor(model => model.AssemblyProductionEndDate, "{0:yyyy-MM-dd}", new { @class = "form-control datepicker assemEndDateAssembly", @disabled = "disabled", style = "text-align: center;", id = "assembEndDateAssembly", Size = "66", Type = "text", placeholder = "YYYY-MM-DD" })

                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 100px;"></td>
                                    <td>
                                        <div style="color:blue;font-weight: bold;">Total Quantity</div>
                                        <input id="chargerAssembly_TotalQuantity" class="form-control" type="number" min="1" style="width: 66%;" onchange="chargerAssemblyTotalQuantityCheck()" />
                                        <div style="color:blue;font-weight: bold;">PerDayCapacity</div>
                                        <input id="chargerAssembly_PerDayCapacity" class="form-control" type="number" min="1" style="width: 66%;" />
                                        <div style="color:blue;font-weight: bold;">Select Line</div>
                                        <select id="assemblyMassLineInfo" class="assemblyMassLineInfo chosen" multiple="multiple" onchange="assebmlyLineInfoFunc()" style="width: 66%;">
                                            <option value="0">SELECT LINE</option>

                                        </select>
                                    </td>
                                    <td style="color:blue;font-weight: bold;">

                                        <table id="assemblyAllLineInformation" class="table table-bordered table-striped table-condensed table-scrollable flip-content assemblyAllLineInformation">
                                            <thead class="flip-content" style="background-color:lightslategray;color: white">
                                                <tr>
                                                    <th style="text-align: center;">Date_Booked</th>
                                                    <th style="text-align: center;">Line<br />Number  </th>
                                                    <th style="text-align: center;">Line<br />Capacity  </th>
                                                    <th style="text-align: center;">Booked<br />PerDay<br />Capacity  </th>
                                                    <th style="text-align: center;">Available<br />Line<br />Capacity </th>

                                                </tr>
                                            </thead>
                                            <tbody class="assemblyAllLineTBody" id="assemblyAllLineTBody"></tbody>
                                        </table>

                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
            <br />

            <div class="form-actions">
                <div class="row">
                    <div class="col-md-12" style="text-align: center;">
                        <input class="btn sbold uppercase btn-outline blue" type="submit" id="btnSave" value="Save" />
                    </div>
                </div>
            </div>
        </div>

    </div>


</div>

<div id="snackbar">Please wait until loading all data..</div>

@* ReSharper disable once UseOfImplicitGlobalInFunctionScope *@
<script language="javascript" type="text/javascript">

    function materialReceiveStartDateSmtOnChange() {
        var materialReceiveStartDateSmt = $('#materialReceiveStartDateSmt').val();

        if (materialReceiveStartDateSmt != "") {
            var materStart1 = isHolidayCheck(materialReceiveStartDateSmt);
            var materialReceiveEndDateSmt;
            if (materStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(moment(materialReceiveStartDateSmt).add(1, 'days').format("YYYY-MM-DD")));
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

                        ////////////////
                        var materStart2 = isHoliday(materialReceiveEndDateSmt);
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(materStart2));
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetMaterialReceiveForSmt", "Production")',
                            data: "{ materialReceiveStartDateSmt: '" + materialReceiveStartDateSmt
                                + "', materialReceiveEndDateSmt: '" + materialReceiveEndDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT Material Receiving.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {
                        alertify.error('Cancelled');

                        $('#materialReceiveStartDateSmt').val("");
                        $('#materialReceiveEndDateSmt').val("");
                    });
            }


            materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(moment(materialReceiveStartDateSmt).add(1, 'days').format("YYYY-MM-DD")));
            materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

            /////////Add extra days for holiday///////////
            var dCount2 = getHolidayCount(materialReceiveStartDateSmt, materialReceiveEndDateSmt);

            materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(moment(materialReceiveEndDateSmt).add(dCount2, 'days').format("YYYY-MM-DD")));
            materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());
            ///////////////////

            var mmIsHol2 = isHoliday(materialReceiveEndDateSmt);
            materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(mmIsHol2));
            materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetMaterialReceiveForSmt", "Production")',
               data: "{ materialReceiveStartDateSmt: '" + materialReceiveStartDateSmt
                   + "', materialReceiveEndDateSmt: '" + materialReceiveEndDateSmt
                   + "'}",
               contentType: "application/json; charset=utf-8",
               dataType: 'json',
               async: false,
               success: function (data) {

                   console.log("data :" + data);
                   var dataList = [];
                   for (var x in data) {
                       dataList = data[x];
                   }
                   console.log(dataList);

                   if (dataList == "YES") {
                       alertify.dialog('alert').set({
                           'title': '   ',
                           'transition': 'zoom',
                           'message': "One Project is waiting for SMT Material Receiving.",
                       }).show();

                       $('#materialReceiveStartDateSmt').val("");
                       $('#materialReceiveEndDateSmt').val("");

                       return false;
                   }
               }
           });
       }
   }

    function iqcCompleteStartDateSmtOnChange() {
        var iqcCompleteStartDateSmt = $('#iqcCompleteStartDateSmt').val();
     
        if (iqcCompleteStartDateSmt != "") {
            var iqcStart1 = isHolidayCheck(iqcCompleteStartDateSmt);
            var iqcCompleteEndDateSmt;
            if (iqcStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(moment(iqcCompleteStartDateSmt).add(1, 'days').format("YYYY-MM-DD")));
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

                        ////////////////
                        var iqcStart2 = isHoliday(iqcCompleteEndDateSmt);
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(iqcStart2));
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetIqcCompleteForSmt", "Production")',
                            data: "{ iqcCompleteStartDateSmt: '" + iqcCompleteStartDateSmt
                                + "', iqcCompleteEndDateSmt: '" + iqcCompleteEndDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT IQC confirmation.",
                                    }).show();

                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {
                        alertify.error('Cancelled');

                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");
                    });
            }


            iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(moment(iqcCompleteStartDateSmt).add(1, 'days').format("YYYY-MM-DD")));
            iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

            /////////Add extra days for holiday///////////
            var dCount2 = getHolidayCount(iqcCompleteStartDateSmt, iqcCompleteEndDateSmt);

            iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(moment(iqcCompleteEndDateSmt).add(dCount2, 'days').format("YYYY-MM-DD")));
            iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());
            ///////////////////

            var iqcIsHol2 = isHoliday(iqcCompleteEndDateSmt);
            iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(iqcIsHol2));
            iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetIqcCompleteForSmt", "Production")',
                data: "{ iqcCompleteStartDateSmt: '" + iqcCompleteStartDateSmt
                    + "', iqcCompleteEndDateSmt: '" + iqcCompleteEndDateSmt
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for SMT IQC confirmation.",
                        }).show();

                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");

                        return false;
                    }
                }
            });
        }
    }
    
    function trialProductionStartdDateSmtOnChange() {
        
        var trialProductionStartDateSmt = $('#trialProductionStartDateSmt').val();
  
        if (trialProductionStartDateSmt != "") {
            var trialStart1 = isHolidayCheck(trialProductionStartDateSmt);
            var trialProductionEndDateSmt;
            if (trialStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        trialProductionStartDateSmt = $('#trialProductionStartDateSmt').val();
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(trialProductionStartDateSmt));
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTrialProductionDateForSmt", "Production")',
                            data: "{ trialProductionStartDateSmt: '" + trialProductionStartDateSmt
                                + "', trialProductionEndDateSmt: '" + trialProductionEndDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT Trial Production.",
                                    }).show();

                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {
                        alertify.error('Cancelled');

                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");
                    });

            }
            trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());
            trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(trialProductionStartDateSmt));
            trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetTrialProductionDateForSmt", "Production")',
                data: "{ trialProductionStartDateSmt: '" + trialProductionStartDateSmt
                    + "', trialProductionEndDateSmt: '" + trialProductionEndDateSmt
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for SMT Trial Production.",
                        }).show();

                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");

                        return false;
                    }
                }
            });
        } //not null check
    }
    function materialReceiveStartDateHousingOnChange() {
        var materialReceiveStartDateHousing = $('#materialReceiveStartDateHousing').val();
        if (materialReceiveStartDateHousing != "") {
            var mdStart1 = isHolidayCheck(materialReceiveStartDateHousing);
            var materialReceiveEndDateHousing;
            if (mdStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        materialReceiveStartDateHousing = $('#materialReceiveStartDateHousing').val();
                        materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val(materialReceiveStartDateHousing));
                        materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetMaterialReceiveDateHousing", "Production")',
                            data: "{ materialReceiveStartDateHousing: '" + materialReceiveStartDateHousing
                                + "', materialReceiveEndDateHousing: '" + materialReceiveEndDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing Material Receiving.",
                                    }).show();

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {
                        alertify.error('Cancelled');
                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");
                    });

            }
            materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());
            materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val(materialReceiveStartDateHousing));
            materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetMaterialReceiveDateHousing", "Production")',
                data: "{ materialReceiveStartDateHousing: '" + materialReceiveStartDateHousing
                    + "', materialReceiveEndDateHousing: '" + materialReceiveEndDateHousing
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Housing Material Receiving.",
                        }).show();

                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");

                        return false;
                    }
                }
            });
        } //not null check
    }

    function iqcCompleteStartDateHousingOnChange() {

        var iqcCompleteStartDateHousing = $('#iqcCompleteStartDateHousing').val();

        if (iqcCompleteStartDateHousing != "") {
            var iqcStart1 = isHolidayCheck(iqcCompleteStartDateHousing);
            var iqcCompleteEndDateHousing;
            if (iqcStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(iqcCompleteStartDateHousing).add(1, 'days').format("YYYY-MM-DD")));
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());

                        ////////////////
                        var iqcIsHol1 = isHoliday(iqcCompleteEndDateHousing);
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(iqcIsHol1));
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetIqcCompleteDateHousing", "Production")',
                            data: "{ iqcCompleteStartDateHousing: '" + iqcCompleteStartDateHousing
                                + "', iqcCompleteEndDateHousing: '" + iqcCompleteEndDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing IQC Confirmation.",
                                    }).show();

                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {

                        alertify.error('Cancelled');
                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");
                    });
            }


            iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(iqcCompleteStartDateHousing).add(1, 'days').format("YYYY-MM-DD")));
            iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());

            /////////Add extra days for holiday///////////
            var dCount2 = getHolidayCount(iqcCompleteStartDateHousing, iqcCompleteEndDateHousing);

            iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(iqcCompleteEndDateHousing).add(dCount2, 'days').format("YYYY-MM-DD")));
            iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
            ///////////////////

            var iqcIsHol2 = isHoliday(iqcCompleteEndDateHousing);
            iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(iqcIsHol2));
            iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetIqcCompleteDateHousing", "Production")',
                data: "{ iqcCompleteStartDateHousing: '" + iqcCompleteStartDateHousing
                    + "', iqcCompleteEndDateHousing: '" + iqcCompleteEndDateHousing
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Housing IQC Confirmation.",
                        }).show();

                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");

                        return false;
                    }
                }
            });
        }
    }

    function trialProductionStartDateHousingOnChange() {
        var trialProductionStartDateHousing = $('#trialProductionStartDateHousing').val();

        if (trialProductionStartDateHousing != "") {
            var trialStart1 = isHolidayCheck(trialProductionStartDateHousing);
            var trialProductionEndDateHousing;
            if (trialStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        trialProductionStartDateHousing = $('#trialProductionStartDateHousing').val();
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(trialProductionStartDateHousing));
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTrialProductionDateHousing", "Production")',
                            data: "{ trialProductionStartDateHousing: '" + trialProductionStartDateHousing
                                + "', trialProductionEndDateHousing: '" + trialProductionEndDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing Trial Production.",
                                    }).show();

                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {
                        alertify.error('Cancelled');

                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");
                    });

            }
            trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());
            trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(trialProductionStartDateHousing));
            trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetTrialProductionDateHousing", "Production")',
                data: "{ trialProductionStartDateHousing: '" + trialProductionStartDateHousing
                    + "', trialProductionEndDateHousing: '" + trialProductionEndDateHousing
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Housing Trial Production.",
                        }).show();

                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");

                        return false;
                    }
                }
            });
        } //not null check

    }

    function housingReliabilityStartDateHousingOnChange() {
        var housingReliabilityStartDateHousing = $('#housingReliabilityStartDateHousing').val();

        if (housingReliabilityStartDateHousing != "") {
            var housingReStart1 = isHolidayCheck(housingReliabilityStartDateHousing);
            var housingReliabilityEndtDateHousing;
            if (housingReStart1 == true) {
                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?",
                    function () {
                        alertify.success('Ok');

                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(housingReliabilityStartDateHousing).add(1, 'days').format("YYYY-MM-DD")));
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

                        ////////////////
                        var housingIsHol1 = isHoliday(housingReliabilityEndtDateHousing);
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(housingIsHol1));
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetHousingReliabilityDate", "Production")',
                            data: "{ housingReliabilityStartDateHousing: '" + housingReliabilityStartDateHousing
                                + "', housingReliabilityEndtDateHousing: '" + housingReliabilityEndtDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing Reliability Test.",
                                    }).show();

                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");

                                    return false;
                                }
                            }
                        });

                    }, function () {

                        alertify.error('Cancelled');
                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");
                    });
            }


            housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(housingReliabilityStartDateHousing).add(1, 'days').format("YYYY-MM-DD")));
            housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

            /////////Add extra days for holiday///////////
            var dCount2 = getHolidayCount(housingReliabilityStartDateHousing, housingReliabilityEndtDateHousing);

            housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(housingReliabilityEndtDateHousing).add(dCount2, 'days').format("YYYY-MM-DD")));
            housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());
            ///////////////////

            var housingIsHol2 = isHoliday(housingReliabilityEndtDateHousing);
            housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(housingIsHol2));
            housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetHousingReliabilityDate", "Production")',
                data: "{ housingReliabilityStartDateHousing: '" + housingReliabilityStartDateHousing
                    + "', housingReliabilityEndtDateHousing: '" + housingReliabilityEndtDateHousing
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Housing Reliability Test.",
                        }).show();

                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");

                        return false;
                    }
                }
            });
        }
    }
    //rfBtn
    $('#rfBtn').on('click', function (e) {
        refresh();
    });


    var smtChk = false;
    var houseChk = false;
    var assemblyChk = false;

    $("#smtChkId").on('change', function () {
        if ($(this).is(':checked')) {
            $(this).attr('value', 'true');

          
            $('#massProductionStartDateSmt').attr("disabled", false);
            $('#massProductionEndDateSmt').attr("disabled", true);

            $('#chargerSmt_TotalQuantity').attr("disabled", false);
            $('#chargerSmt_PerDayCapacity').attr("disabled", false);
            document.getElementById("smtMassLineInfo_chosen").disabled = false;

        } else {
            $(this).attr('value', 'false');
            $('#materialReceiveStartDateSmt').attr("disabled", true);
            $('#materialReceiveEndDateSmt').attr("disabled", true);
            $('#iqcCompleteStartDateSmt').attr("disabled", true);
            $('#iqcCompleteEndDateSmt').attr("disabled", true);
            $('#trialProductionStartDateSmt').attr("disabled", true);
            $('#trialProductionEndDateSmt').attr("disabled", true);
            $('#massProductionStartDateSmt').attr("disabled", true);
            $('#massProductionEndDateSmt').attr("disabled", true);

            $('#chargerSmt_TotalQuantity').attr("disabled", true);
            $('#chargerSmt_PerDayCapacity').attr("disabled", true);
            document.getElementById("smtMassLineInfo_chosen").disabled = true;

            //$("#smtAllLineInformation tbody.smAllLineTBody").empty();
            //$('#materialReceiveStartDateSmt').val("");
            //$('#materialReceiveEndDateSmt').val("");
            //$('#iqcCompleteStartDateSmt').val("");
            //$('#iqcCompleteEndDateSmt').val("");
            //$('#trialProductionStartDateSmt').val("");
            //$('#trialProductionEndDateSmt').val("");
            //$('#massProductionStartDateSmt').val("");
            //$('#massProductionEndDateSmt').val("");
            //$('#chargerSmt_TotalQuantity').val("");
            //$('#chargerSmt_PerDayCapacity').val("");
            //$('#smtMassLineInfo').val("");
        }
        smtChk = $('#smtChkId').val();
        console.log("smtChk :" + smtChk);
    });
    $("#housingChkId").on('change', function () {
        if ($(this).is(':checked')) {
            $(this).attr('value', 'true');

            $('#housingMassProStartDateHousing').attr("disabled", false);
            $('#housingMassProEndtDateHousing').attr("disabled", true);

            $('#chargerHousing_TotalQuantity').attr("disabled", false);
            $('#chargerHousing_PerDayCapacity').attr("disabled", false);
            document.getElementById("housingMassLineInfo_chosen").disabled = false;
        }
        else {
            $(this).attr('value', 'false');
            

            $('#materialReceiveStartDateHousing').attr("disabled", true);
            $('#materialReceiveEndDateHousing').attr("disabled", true);
            $('#iqcCompleteStartDateHousing').attr("disabled", true);
            $('#iqcCompleteEndDateHousing').attr("disabled", true);
            $('#trialProductionStartDateHousing').attr("disabled", true);
            $('#trialProductionEndDateHousing').attr("disabled", true);
            $('#housingReliabilityStartDateHousing').attr("disabled", true);
            $('#housingReliabilityEndtDateHousing').attr("disabled", true);
            $('#housingMassProStartDateHousing').attr("disabled", true);
            $('#housingMassProEndtDateHousing').attr("disabled", true);

            $('#chargerHousing_TotalQuantity').attr("disabled", true);
            $('#chargerHousing_PerDayCapacity').attr("disabled", true);
            document.getElementById("housingMassLineInfo_chosen").disabled = true;

            //$('#materialReceiveStartDateHousing').val("");
            //$('#materialReceiveEndDateHousing').val("");
            //$('#iqcCompleteStartDateHousing').val("");
            //$('#iqcCompleteEndDateHousing').val("");
            //$('#trialProductionStartDateHousing').val("");
            //$('#trialProductionEndDateHousing').val("");
            //$('#housingReliabilityStartDateHousing').val("");
            //$('#housingReliabilityEndtDateHousing').val("");
            //$('#housingMassProStartDateHousing').val("");
            //$('#housingMassProEndtDateHousing').val("");
        }

        houseChk = $('#housingChkId').val();
        console.log("houseChk :" + houseChk);
    });
    $("#assemblyChkId").on('change', function () {
        if ($(this).is(':checked')) {
            $(this).attr('value', 'true');

            $('#materialReceiveStartDateAssembly').attr("disabled", false);
            $('#assembStartDateAssembly').attr("disabled", false);
            $('#assembEndDateAssembly').attr("disabled", true);

            $('#chargerAssembly_TotalQuantity').attr("disabled", false);
            $('#chargerAssembly_PerDayCapacity').attr("disabled", false);
            document.getElementById("assemblyMassLineInfo_chosen").disabled = false;

        }
        else {
            $(this).attr('value', 'false');

            $('#materialReceiveStartDateAssembly').attr("disabled", true);
            $('#materialReceiveEndDateAssembly').attr("disabled", true);
            $('#iqcCompleteStartDateAssembly').attr("disabled", true);
            $('#iqcCompleteEndDateAssembly').attr("disabled", true);
            $('#trialProductionStartDateAssembly').attr("disabled", true);
            $('#trialProductionEndDateAssembly').attr("disabled", true);
            $('#rnDConfirmStartDateAssembly').attr("disabled", true);
            $('#rnDConfirmEndDateAssembly').attr("disabled", true);
            $('#assembStartDateAssembly').attr("disabled", true);
            $('#assembEndDateAssembly').attr("disabled", true);

            $('#chargerAssembly_TotalQuantity').attr("disabled", true);
            $('#chargerAssembly_PerDayCapacity').attr("disabled", true);
            document.getElementById("assemblyMassLineInfo_chosen").disabled = true;

            //$('#materialReceiveStartDateAssembly').val("");
            //$('#materialReceiveEndDateAssembly').val("");
            //$('#iqcCompleteStartDateAssembly').val("");
            //$('#iqcCompleteEndDateAssembly').val("");
            //$('#trialProductionStartDateAssembly').val("");
            //$('#trialProductionEndDateAssembly').val("");
            //$('#rnDConfirmStartDateAssembly').val("");
            //$('#rnDConfirmEndDateAssembly').val("");
            //$('#assembStartDateAssembly').val("");
            //$('#assembEndDateAssembly').val("");
        }

        assemblyChk = $('#assemblyChkId').val();
        console.log("assemblyChk :" + assemblyChk);
    });

    function isFloat(n) {
        return Number(n) === n && n % 1 !== 0;
    }
    function assebmlyLineInfoFunc() {
        $("#assemblyAllLineInformation tbody.assemblyAllLineTBody").empty();
        var chargerAssemblyTotalQuantity = $('#chargerAssembly_TotalQuantity').val();
        var chargerAssemblyPerDayCapacity = $('#chargerAssembly_PerDayCapacity').val();

        if (+chargerAssemblyTotalQuantity < +chargerAssemblyPerDayCapacity) {
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Charger Assemly Total Quantity must be greater than Charger Assemly PerDayCapacity ",
            }).show();

            $('#chargerAssembly_TotalQuantity').val("");
            $('#chargerAssembly_PerDayCapacity').val("");

            return false;
        }

        var assemblyMassLineInfo = $('#assemblyMassLineInfo').val();
        var assemblyMassLineInfoText = $('#assemblyMassLineInfo').text();

        console.log("assemblyMassLineInfo:" + assemblyMassLineInfo);
        console.log("assemblyMassLineInfoText:" + assemblyMassLineInfoText);

        var lineArr = [];
        $("#assemblyMassLineInfo option:selected").each(function () {
            var $this = $(this);
            if ($this.length) {
                var selText = $this.text();
                console.log("selText :" + selText);
                var selValue = $this.val();
                console.log("selValue :" + selValue);
                lineArr.push(selValue);
            }
        });
        console.log('lonearr : ' + lineArr);
        ////////////
        var perDayCapacitySum = 0;

        for (var xi = 0; xi < lineArr.length; xi++) {

            perDayCapacitySum += +chargerAssemblyPerDayCapacity;
        }

        console.log("perDayCapacitySum :" + perDayCapacitySum);
        ////////////

        var assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());
        var assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());

        if (assembEndDateAssembly == "Invalid date") {
            var assembEndDateAssembly11 = $.trim($('#assembEndDateAssembly').val(""));
        }
        assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());

        if (chargerAssemblyTotalQuantity != null && perDayCapacitySum != null && assemblyMassLineInfo != null) {

            var assemblyDivision = (chargerAssemblyTotalQuantity / perDayCapacitySum);

            if (isFloat((chargerAssemblyTotalQuantity / perDayCapacitySum))) {
                var aa = (chargerAssemblyTotalQuantity / perDayCapacitySum);
                var n = (aa + "").split(".")[0];
                var nn = +n;
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(moment(assembStartDateAssembly).add(nn, 'days').format("YYYY-MM-DD")));
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());

                ////////holiday count///////
                var startDate = moment(assembStartDateAssembly).format("YYYY-MM-DD");
                var endDDate = assembEndDateAssembly;

                // getHolidayCount(startDate, endDDate);
                var dCount = getHolidayCount(startDate, endDDate);

                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(moment(assembEndDateAssembly).add(dCount, 'days').format("YYYY-MM-DD")));
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());
                /////////////////////////////

                //holiday check//
                var mass11 = isHoliday(assembEndDateAssembly);
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(mass11));
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());
                /////////////////
            } else {
                var bb = chargerAssemblyTotalQuantity / perDayCapacitySum;
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(moment(assembStartDateAssembly).add(bb - 1, 'days').format("YYYY-MM-DD")));
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());


                ////////holiday count///////
                var startDate1 = moment(assembStartDateAssembly).format("YYYY-MM-DD");
                var endDDate1 = assembEndDateAssembly;

                // getHolidayCount(startDate, endDDate);
                var dCount1 = getHolidayCount(startDate1, endDDate1);

                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(moment(assembEndDateAssembly).add(dCount1, 'days').format("YYYY-MM-DD")));
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());
                /////////////////////////////

                //holiday check//
                var iqcAssembly12 = isHoliday(assembEndDateAssembly);
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(iqcAssembly12));
                assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());
                /////////////////
            }
        }

        if (assemblyMassLineInfo == null) {
            assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(""));
        }
        assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());
        //////////holiday count///////
        //var startDate = moment(assembStartDateAssembly).format("YYYY-MM-DD");
        //var endDDate = assembEndDateAssembly;

        //getHolidayCount(startDate, endDDate);
        //var dCount = getHolidayCount(startDate, endDDate);

        //assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val(moment(assembEndDateAssembly).add(dCount, 'days').format("YYYY-MM-DD")));
        //assembEndDateAssembly = $.trim($('#assembEndDateAssembly').val());
        ///////////////////////////////

        if (assembStartDateAssembly != null && assembEndDateAssembly != null) {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetAvailableProductionLineForAssembly", "Production")',
                data: "{ assembStartDateAssembly: '" + assembStartDateAssembly
                    + "', assembEndDateAssembly: '" + assembEndDateAssembly
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);
                    var items = $.parseJSON(dataList);

                    if (assemblyMassLineInfo != null) {

                        $.each(items, function (i, item) {
                            console.log("item  :" + item);

                            var body = '<tr>';
                            body += '<td>' + moment(item.WorkingDate).format("YYYY-MM-DD") + '</td>';
                            body += '<td>' + item.LineNumber + '</td>';
                            body += '<td>' + item.LineCapacity + '</td>';
                            body += '<td>' + item.PerDayCapacity + '</td>';
                            body += '<td>' + item.LineAvailableCapacity + '</p>' + '</td>';
                            body += '</tr>';

                            $("#assemblyAllLineInformation tbody.assemblyAllLineTBody").append(body);
                        });
                    }


                }
            });
        }
    }

    function housingLineInfoFunc() {
        $("#housingAllLineInformation tbody.housingAllLineTBody").empty();
        var chargerHousingTotalQuantity = $('#chargerHousing_TotalQuantity').val();
        var chargerHousingPerDayCapacity = $('#chargerHousing_PerDayCapacity').val();

        if (+chargerHousingTotalQuantity < +chargerHousingPerDayCapacity) {
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Charger Housing Total Quantity must be greater than Charger Housing PerDayCapacity ",
            }).show();

            $('#chargerHousing_TotalQuantity').val("");
            $('#chargerHousing_PerDayCapacity').val("");

            return false;
        }

        var housingMassLineInfo = $('#housingMassLineInfo').val();
        var housingMassLineInfoText = $('#housingMassLineInfo').text();

        console.log("housingMassLineInfo:" + housingMassLineInfo);
        console.log("housingMassLineInfoText:" + housingMassLineInfoText);

        var lineArr = [];
        $("#housingMassLineInfo option:selected").each(function () {
            var $this = $(this);
            if ($this.length) {
                var selText = $this.text();
                console.log("selText :" + selText);
                var selValue = $this.val();
                console.log("selValue :" + selValue);
                lineArr.push(selValue);
            }
        });
        console.log('lonearr : ' + lineArr);
        ////////////
        var perDayCapacitySum = 0;

        for (var xi = 0; xi < lineArr.length; xi++) {

            perDayCapacitySum += +chargerHousingPerDayCapacity;
        }

        console.log("perDayCapacitySum :" + perDayCapacitySum);
        ////////////

        var housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());
        var housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());

        if (housingMassProEndtDateHousing == "Invalid date") {
            var housingMassProEndtDateHousing11 = $.trim($('#housingMassProEndtDateHousing').val(""));
        }
        housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());

        if (chargerHousingTotalQuantity != null && perDayCapacitySum != null && housingMassLineInfo != null) {

            var assemblyDivision = (chargerHousingTotalQuantity / perDayCapacitySum);

            if (isFloat((chargerHousingTotalQuantity / perDayCapacitySum))) {
                var aa = (chargerHousingTotalQuantity / perDayCapacitySum);
                var n = (aa + "").split(".")[0];
                var nn = +n;
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(moment(housingMassProStartDateHousing).add(nn, 'days').format("YYYY-MM-DD")));
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());

                ////////holiday count///////
                var startDate = moment(housingMassProStartDateHousing).format("YYYY-MM-DD");
                var endDDate = housingMassProEndtDateHousing;

                getHolidayCount(startDate, endDDate);
                var dCount = getHolidayCount(startDate, endDDate);

                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(moment(housingMassProEndtDateHousing).add(dCount, 'days').format("YYYY-MM-DD")));
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());
                /////////////////////////////

                //holiday check//
                var mass11 = isHoliday(housingMassProEndtDateHousing);
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(mass11));
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());
                /////////////////
            } else {
                var bb = chargerHousingTotalQuantity / perDayCapacitySum;
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(moment(housingMassProStartDateHousing).add(bb - 1, 'days').format("YYYY-MM-DD")));
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());

                ////////holiday count///////
                var startDate1 = moment(housingMassProStartDateHousing).format("YYYY-MM-DD");
                var endDDate1 = housingMassProEndtDateHousing;

                getHolidayCount(startDate1, endDDate1);
                var dCount1 = getHolidayCount(startDate1, endDDate1);

                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(moment(housingMassProEndtDateHousing).add(dCount1, 'days').format("YYYY-MM-DD")));
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());
                /////////////////////////////

                //holiday check//
                var iqcAssembly12 = isHoliday(housingMassProEndtDateHousing);
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(iqcAssembly12));
                housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());
                /////////////////
            }
        }

        if (housingMassLineInfo == null) {
            housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(""));
        }
        housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());
        //////////holiday count///////
        //var startDate = moment(housingMassProStartDateHousing).format("YYYY-MM-DD");
        //var endDDate = housingMassProEndtDateHousing;

        //getHolidayCount(startDate, endDDate);
        //var dCount = getHolidayCount(startDate, endDDate);

        //housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val(moment(housingMassProEndtDateHousing).add(dCount, 'days').format("YYYY-MM-DD")));
        //housingMassProEndtDateHousing = $.trim($('#housingMassProEndtDateHousing').val());
        ///////////////////////////////


        if (housingMassProStartDateHousing != null && housingMassProEndtDateHousing != null) {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetAvailableProductionLineForHousing", "Production")',
                data: "{ housingMassProStartDateHousing: '" + housingMassProStartDateHousing
                    + "', housingMassProEndtDateHousing: '" + housingMassProEndtDateHousing
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);
                    //smtAllLineInformation
                    var items = $.parseJSON(dataList);

                    if (housingMassLineInfo != null) {

                        $.each(items, function (i, item) {
                            console.log("item  :" + item);

                            var body = '<tr>';
                            body += '<td>' + moment(item.WorkingDate).format("YYYY-MM-DD") + '</td>';
                            body += '<td>' + item.LineNumber + '</td>';
                            body += '<td>' + item.LineCapacity + '</td>';
                            body += '<td>' + item.PerDayCapacity + '</td>';
                            body += '<td>' + item.LineAvailableCapacity + '</p>' + '</td>';
                            body += '</tr>';

                            $("#housingAllLineInformation tbody.housingAllLineTBody").append(body);
                        });
                    }


                }
            });
        }
    }

    function smtLineInfoFunc() {
        $("#smtAllLineInformation tbody.smAllLineTBody").empty();
        var chargerSmtTotalQuantity = $('#chargerSmt_TotalQuantity').val();
        var chargerSmtPerDayCapacity = $('#chargerSmt_PerDayCapacity').val();

        //var smtMassLineInfo = document.getElementById('smtMassLineInfo');
        //var smtMassLineInfoText  = smtMassLineInfo.options[smtMassLineInfo.selectedIndex].text;
        //var smtMassLineInfoVal = smtMassLineInfo.options[smtMassLineInfo.selectedIndex].value;

        if (+chargerSmtPerDayCapacity > +chargerSmtTotalQuantity) {
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Charger Smt Total Quantity must be greater than Charger Smt PerDayCapacity ",
            }).show();

            $('#chargerSmt_TotalQuantity').val("");
            $('#chargerSmt_PerDayCapacity').val("");

            return false;
        }


        var smtMassLineInfo = $('#smtMassLineInfo').val();
        var smtMassLineInfoText = $('#smtMassLineInfo').text();

        console.log("smtMassLineInfo:" + smtMassLineInfo);
        console.log("smtMassLineInfoText:" + smtMassLineInfoText);

        var lineArr = [];
        $("#smtMassLineInfo option:selected").each(function () {
            var $this = $(this);
            if ($this.length) {
                var selText = $this.text();
                console.log("selText :" + selText);
                var selValue = $this.val();
                console.log("selValue :" + selValue);
                lineArr.push(selValue);
            }
        });
        console.log('lonearr : ' + lineArr);
        ////////////
        var perDayCapacitySum = 0;

        for (var xi = 0; xi < lineArr.length; xi++) {

            perDayCapacitySum += +chargerSmtPerDayCapacity;
        }

        console.log("perDayCapacitySum :" + perDayCapacitySum);
        ////////////
        var massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());
        var massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());

        if (massProductionEndDateSmt == "Invalid date") {
            var massProductionEndDateSmt11 = $.trim($('#massProductionEndDateSmt').val(""));
        }
        massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());



        if (chargerSmtTotalQuantity != null && perDayCapacitySum != null && smtMassLineInfo != null) {

            var assemblyDivision = (chargerSmtTotalQuantity / perDayCapacitySum);

            if (isFloat((chargerSmtTotalQuantity / perDayCapacitySum))) {
                var aa = (chargerSmtTotalQuantity / perDayCapacitySum);
                var n = (aa + "").split(".")[0];
                var nn = +n;
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(moment(massProductionStartDateSmt).add(nn, 'days').format("YYYY-MM-DD")));
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());

                ////////holiday count///////
                var startDate = moment(massProductionStartDateSmt).format("YYYY-MM-DD");
                var endDDate = massProductionEndDateSmt;

                //  getHolidayCount(startDate, endDDate);
                var dCount = getHolidayCount(startDate, endDDate);

                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(moment(massProductionEndDateSmt).add(dCount, 'days').format("YYYY-MM-DD")));
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());
                /////////////////////////////

                //holiday check//
                var mass11 = isHoliday(massProductionEndDateSmt);
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(mass11));
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());
                /////////////////
            } else {
                var bb = chargerSmtTotalQuantity / perDayCapacitySum;
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(moment(massProductionStartDateSmt).add(bb - 1, 'days').format("YYYY-MM-DD")));
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());

                ////////holiday count///////
                var startDate1 = moment(massProductionStartDateSmt).format("YYYY-MM-DD");
                var endDDate1 = massProductionEndDateSmt;

                // getHolidayCount(startDate1, endDDate1);
                var dCount1 = getHolidayCount(startDate1, endDDate1);

                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(moment(massProductionEndDateSmt).add(dCount1, 'days').format("YYYY-MM-DD")));
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());
                /////////////////////////////

                //holiday check//
                var iqcAssembly12 = isHoliday(massProductionEndDateSmt);
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(iqcAssembly12));
                massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());
                /////////////////
            }
        }

        if (smtMassLineInfo == null) {
            massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(""));
        }
        massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());
        //////////holiday count///////
        //var startDate = moment(massProductionStartDateSmt).format("YYYY-MM-DD");
        //var endDDate = massProductionEndDateSmt;

        //getHolidayCount(startDate, endDDate);
        //var dCount = getHolidayCount(startDate, endDDate);

        //massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val(moment(massProductionEndDateSmt).add(dCount, 'days').format("YYYY-MM-DD")));
        //massProductionEndDateSmt = $.trim($('#massProductionEndDateSmt').val());
        ///////////////////////////////

        if (massProductionStartDateSmt != null && massProductionEndDateSmt != null) {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetAvailableProductionLineForSmt", "Production")',
                data: "{ massProductionStartDateSmt: '" + massProductionStartDateSmt
                    + "', massProductionEndDateSmt: '" + massProductionEndDateSmt
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);
                    //smtAllLineInformation
                    var items = $.parseJSON(dataList);

                    if (smtMassLineInfo != null) {

                        $.each(items, function (i, item) {
                            console.log("item  :" + item);

                            //$("#smtAllLineInformation").append('<p style="color:red;">' + (i + 1) + '. ' + moment(item.WorkingDate).format("YYYY-MM-DD") + ', ' + '</p>' + 'LineCapacity :' + item.LineCapacity + ', BookedPerDayCapacity :' + item.PerDayCapacity + ', LineAvalebleCapacity :' +
                            //item.LineAvailableCapacity);
                            //$("#smtAllLineInformation").append('<br/>');
                            //smAllLineTBody
                            var body = '<tr>';
                            body += '<td>' + moment(item.WorkingDate).format("YYYY-MM-DD") + '</td>';
                            body += '<td>' + item.LineNumber + '</td>';
                            body += '<td>' + item.LineCapacity + '</td>';
                            body += '<td>' + item.PerDayCapacity + '</td>';
                            body += '<td>' + item.LineAvailableCapacity + '</p>' + '</td>';
                            body += '</tr>';

                            $("#smtAllLineInformation tbody.smAllLineTBody").append(body);
                        });
                    }


                }
            });
        }
    }

    var arrList = [];
    var arrList1 = [];
    var arrList2 = [];
    var arrListForChargerSmt = [];
    var arrListForChargerHousing = [];
    var arrListForChargerAssembly = [];
    $(document).ready(function () {

        $.ajax({
            url: '@Url.Action("GetHolidayDataList", "Production")',
            type: "GET",
            dataType: "JSON",
            success: function (data) {
                console.log(data);

                var dataList = [];
                for (var x in data) {
                    dataList = data[x];
                }

                var items = $.parseJSON(dataList);
                arrList = items;
                return items;
            }
        });


        $.ajax({
            url: '@Url.Action("SelectLineInfoChargerSmt", "Production")',
            type: "GET",
            dataType: "JSON",
            success: function (data) {
                console.log(data);

                var dataList = [];
                for (var x in data) {
                    dataList = data[x];
                }

                var items = $.parseJSON(dataList);
                arrListForChargerSmt = items;

                $('#smtMassLineInfo').empty();
                $.each(arrListForChargerSmt, function (i, item) {
                    console.log("item  :" + item.LineNumber);

                    var text = item.LineNumber;
                    var val = item.Charger_SMT_Line_Capacity;

                    $("#smtMassLineInfo").append('<option value=' + val + '>' + text + '</option>');
                    $("#smtMassLineInfo").trigger("chosen:updated");
                });
            }
        });

        $.ajax({
            url: '@Url.Action("SelectLineInfoChargerHousing", "Production")',
            type: "GET",
            dataType: "JSON",
            success: function (data) {
                console.log(data);

                var dataList = [];
                for (var x in data) {
                    dataList = data[x];
                }

                var items = $.parseJSON(dataList);
                arrListForChargerHousing = items;

                $('#housingMassLineInfo').empty();
                $.each(arrListForChargerHousing, function (i, item) {
                    console.log("item  :" + item.LineNumber);

                    var text = item.LineNumber;
                    var val = item.Charger_Housing_Line_Capacity;

                    $("#housingMassLineInfo").append('<option value=' + val + '>' + text + '</option>');
                    $("#housingMassLineInfo").trigger("chosen:updated");
                });
            }
        });

        $.ajax({
            url: '@Url.Action("SelectLineInfoChargerAssembly", "Production")',
            type: "GET",
            dataType: "JSON",
            success: function (data) {
                console.log(data);

                var dataList = [];
                for (var x in data) {
                    dataList = data[x];
                }

                var items = $.parseJSON(dataList);
                arrListForChargerAssembly = items;

                $('#assemblyMassLineInfo').empty();
                $.each(arrListForChargerAssembly, function (i, item) {
                    console.log("item  :" + item.LineNumber);

                    var text = item.LineNumber;
                    var val = item.Charger_Assembly_Line_Capacity;

                    $("#assemblyMassLineInfo").append('<option value=' + val + '>' + text + '</option>');
                    $("#assemblyMassLineInfo").trigger("chosen:updated");
                });
            }
        });

    });

    function getHolidayCount(startDate, endDate) {
        var holidayDate = null;
        var formattedHolidayList = [];
        var l = arrList.length;
        var cnt = 0;
        for (var ii = 0; ii < l; ii++) {
            holidayDate = moment(arrList[ii].HolidayDate).format('YYYY-MM-DD');
            formattedHolidayList.push(holidayDate);
        }
        for (var day = startDate; day <= endDate; day = (moment(day).add(1, 'days').format('YYYY-MM-DD'))) {
            for (var indx = 0; indx < formattedHolidayList.length; indx++) {
                if (day === formattedHolidayList[indx]) {
                    cnt++;
                }
            }
        }
        return cnt;
    }

    function isHoliday(materialReceiveDate) {
        var holidayDate = null;
        var arrLists = [];
        var l = arrList.length;
        for (var ii = 0; ii < l; ii++) {
            holidayDate = moment(arrList[ii].HolidayDate).format('YYYY-MM-DD');
            arrLists.push(holidayDate);
        }

        if (l > 0) {
            var selectedDate = arrLists.find(function (element) {
                return element === materialReceiveDate;
            });
            while (typeof selectedDate !== "undefined") {
                materialReceiveDate = moment(materialReceiveDate).add(1, 'days').format("YYYY-MM-DD");
                selectedDate = arrLists.find(function (element) {
                    return element === materialReceiveDate;
                });
                if (typeof selectedDate !== "undefined") {
                    materialReceiveDate = selectedDate;
                }
                continue;
            }
        }
        return materialReceiveDate;

    }

    function isHolidayPreviousDate(materialReceiveDate) {
        var holidayDate = null;
        var arrLists = [];
        var l = arrList.length;
        for (var ii = 0; ii < l; ii++) {
            holidayDate = moment(arrList[ii].HolidayDate).format('YYYY-MM-DD');
            arrLists.push(holidayDate);
        }

        if (l > 0) {
            var selectedDate = arrLists.find(function (element) {
                return element === materialReceiveDate;
            });
            while (typeof selectedDate !== "undefined") {
                materialReceiveDate = moment(materialReceiveDate).add(-1, 'days').format("YYYY-MM-DD");
                selectedDate = arrLists.find(function (element) {
                    return element === materialReceiveDate;
                });
                if (typeof selectedDate !== "undefined") {
                    materialReceiveDate = selectedDate;
                }
                continue;
            }
        }
        return materialReceiveDate;

    }

    function isHolidayCheck(materialReceiveDate) {
        var holidayDate = null;
        var arrLists = arrList;
        var l = arrLists.length;
        var res = false;
        for (var ii = 0; ii < l; ii++) {
            holidayDate = moment(arrLists[ii].HolidayDate).format('YYYY-MM-DD');

            if (materialReceiveDate == holidayDate) {
                res = true;
                break;
            } else
                continue;
        }
        return res;

    }

    function show1() {
        var x = document.getElementById("snackbar");
        x.className = "show";
    }
    function hide1() {
        var x = document.getElementById("snackbar");
        x.className = "hide";
    }

    $("#materialReceiveStartDateAssembly").click(function () {
        show1();
    });
    $("#btnSave").on('click', function (e) {
        e.preventDefault();

        var obj = {};
        var objArr = [];

        var projectId;
        var projectName;
        var materialReceiveStartDateSmt;
        var materialReceiveEndDateSmt;
        var iqcCompleteStartDateSmt;
        var iqcCompleteEndDateSmt;
        var trialProductionStartDateSmt;
        var trialProductionEndDateSmt;
        var massProductionStartDateSmt;
        var massProductionEndDateSmt;
        var materialReceiveStartDateHousing;
        var materialReceiveEndDateHousing;
        var iqcCompleteStartDateHousing;
        var iqcCompleteEndDateHousing;
        var trialProductionStartDateHousing;
        var trialProductionEndDateHousing;
        var housingReliabilityStartDateHousing;
        var housingReliabilityEndtDateHousing;
        var housingMassProStartDateHousing;
        var housingMassProEndtDateHousing;
        var materialReceiveStartDateAssembly;
        var materialReceiveEndDateAssembly;
        var iqcCompleteStartDateAssembly;
        var iqcCompleteEndDateAssembly;
        var trialProductionStartDateAssembly;
        var trialProductionEndDateAssembly;
        var rnDConfirmStartDateAssembly;
        var rnDConfirmEndDateAssembly;
        var assembStartDateAssembly;
        var assembEndDateAssembly;


        if ($("#smtChkId").is(':checked')) {
            $("#smtChkId").attr('value', 'true');
            $("#smtChkId").prop("checked", true);
        } else {
            $("#smtChkId").attr('value', 'false');
            $("#smtChkId").prop("checked", false);
        }
        smtChk = $('#smtChkId').val();
        console.log("smtChk :" + smtChk);
        //////////////////////////////////////
        if ($("#housingChkId").is(':checked')) {
            $("#housingChkId").attr('value', 'true');
            $("#housingChkId").prop("checked", true);
        } else {
            $("#housingChkId").attr('value', 'false');
            $("#housingChkId").prop("checked", false);
        }
        houseChk = $('#housingChkId').val();
        console.log("houseChk :" + houseChk);

        ///////////////////////////////////
        if ($("#assemblyChkId").is(':checked')) {
            $("#assemblyChkId").attr('value', 'true');
            $("#assemblyChkId").prop("checked", true);
        } else {
            $("#assemblyChkId").attr('value', 'false');
            $("#assemblyChkId").prop("checked", false);
        }
        assemblyChk = $('#assemblyChkId').val();
        console.log("assemblyChk :" + assemblyChk);

        $("#chargerPlanTable").each(function () {
            obj = new Object();

            var proSelectId = document.getElementById('dropForProject');
            projectId = proSelectId.options[proSelectId.selectedIndex].value;
            projectName = proSelectId.options[proSelectId.selectedIndex].text;

            if (smtChk == "true") {
                materialReceiveStartDateSmt = $.trim($(this).find('#materialReceiveStartDateSmt').val());

                materialReceiveEndDateSmt = $.trim($(this).find('#materialReceiveEndDateSmt').val());

                iqcCompleteStartDateSmt = $.trim($(this).find('#iqcCompleteStartDateSmt').val());

                iqcCompleteEndDateSmt = $.trim($(this).find('#iqcCompleteEndDateSmt').val());

                trialProductionStartDateSmt = $.trim($(this).find('#trialProductionStartDateSmt').val());

                trialProductionEndDateSmt = $.trim($(this).find('#trialProductionEndDateSmt').val());

                massProductionStartDateSmt = $.trim($(this).find('#massProductionStartDateSmt').val());
                var chargerSmtTotalQuantity = $.trim($('#chargerSmt_TotalQuantity').val());
                var chargerSmtPerDayCapacity = $.trim($('#chargerSmt_PerDayCapacity').val());
                /////////////////////

                var lineArrSmtNum = $("#smtMassLineInfo :selected").text();
                console.log("lineArrSmtNum :" + lineArrSmtNum);
                ///////////////////////

                massProductionEndDateSmt = $.trim($(this).find('#massProductionEndDateSmt').val());

                if (massProductionStartDateSmt == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Mass Production StartDate for SMT",
                    }).show();
                    return false;
                }
                if (massProductionEndDateSmt == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Mass Production EndDate for SMT",
                    }).show();
                    return false;
                }
                if (massProductionEndDateSmt < massProductionStartDateSmt) {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "SMT Mass Production EndDate must be greater than StartDate",
                    }).show();
                    return false;
                }
            }

            if (houseChk == "true") {
                materialReceiveStartDateHousing = $.trim($(this).find('#materialReceiveStartDateHousing').val());

                materialReceiveEndDateHousing = $.trim($(this).find('#materialReceiveEndDateHousing').val());

                iqcCompleteStartDateHousing = $.trim($(this).find('#iqcCompleteStartDateHousing').val());

                iqcCompleteEndDateHousing = $.trim($(this).find('#iqcCompleteEndDateHousing').val());

                trialProductionStartDateHousing = $.trim($(this).find('#trialProductionStartDateHousing').val());

                trialProductionEndDateHousing = $.trim($(this).find('#trialProductionEndDateHousing').val());

                housingReliabilityStartDateHousing = $.trim($(this).find('#housingReliabilityStartDateHousing').val());

                housingReliabilityEndtDateHousing = $.trim($(this).find('#housingReliabilityEndtDateHousing').val());

                housingMassProStartDateHousing = $.trim($(this).find('#housingMassProStartDateHousing').val());

                housingMassProEndtDateHousing = $.trim($(this).find('#housingMassProEndtDateHousing').val());

                var chargerHousingTotalQuantity = $.trim($('#chargerHousing_TotalQuantity').val());
                var chargerHousingPerDayCapacity = $.trim($('#chargerHousing_PerDayCapacity').val());
                /////////////////////

                var lineArrHousingNum = $("#housingMassLineInfo :selected").text();
                console.log("lineArrHousingNum :" + lineArrHousingNum);
                ///////////////////////

                if (housingMassProStartDateHousing == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Housing Mass Production StartDate for Housing",
                    }).show();
                    return false;
                }
                if (housingMassProEndtDateHousing == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Housing Mass Production EndDate for Housing",
                    }).show();
                    return false;
                }

            }
            /////////
            if (assemblyChk =="true") {
                materialReceiveStartDateAssembly = $.trim($(this).find('#materialReceiveStartDateAssembly').val());
                if (materialReceiveStartDateAssembly == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Material Receive StartDate for Assembly",
                    }).show();
                    return false;
                }
                materialReceiveEndDateAssembly = $.trim($(this).find('#materialReceiveEndDateAssembly').val());

                iqcCompleteStartDateAssembly = $.trim($(this).find('#iqcCompleteStartDateAssembly').val());

                iqcCompleteEndDateAssembly = $.trim($(this).find('#iqcCompleteEndDateAssembly').val());

                trialProductionStartDateAssembly = $.trim($(this).find('#trialProductionStartDateAssembly').val());

                trialProductionEndDateAssembly = $.trim($(this).find('#trialProductionEndDateAssembly').val());

                rnDConfirmStartDateAssembly = $.trim($(this).find('#rnDConfirmStartDateAssembly').val());

                rnDConfirmEndDateAssembly = $.trim($(this).find('#rnDConfirmEndDateAssembly').val());

                assembStartDateAssembly = $.trim($(this).find('#assembStartDateAssembly').val());
                assembEndDateAssembly = $.trim($(this).find('#assembEndDateAssembly').val());

                var chargerAssemblyTotalQuantity = $.trim($('#chargerAssembly_TotalQuantity').val());
                var chargerAssemblyPerDayCapacity = $.trim($('#chargerAssembly_PerDayCapacity').val());

                /////////////////////
                var lineArrAssemblyNum = $("#assemblyMassLineInfo :selected").text();
                console.log("lineArrAssemblyNum :" + lineArrAssemblyNum);
                ///////////////////////
                if (assembStartDateAssembly == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Assembly Production StartDate for Assembly",
                    }).show();
                    return false;
                }
                if (assembEndDateAssembly == "") {
                    alertify.dialog('alert').set({
                        'title': '   ',
                        'transition': 'zoom',
                        'message': "Please Select Assembly Production EndDate for Assembly",
                    }).show();
                    return false;
                }

            }
           
            obj.ProjectId = projectId;
            obj.ProjectName = projectName;

            if (smtChk == "true") {
                obj.MaterialReceiveStartDateSmt = materialReceiveStartDateSmt;
                obj.MaterialReceiveEndDateSmt = materialReceiveEndDateSmt;
                obj.IqcCompleteStartDateSmt = iqcCompleteStartDateSmt;
                obj.IqcCompleteEndDateSmt = iqcCompleteEndDateSmt;
                obj.TrialProductionStartDateSmt = trialProductionStartDateSmt;
                obj.TrialProductionEndDateSmt = trialProductionEndDateSmt;
                obj.SmtMassProductionStartDateSmt = massProductionStartDateSmt;
                obj.SmtMassProductionEndDateSmt = massProductionEndDateSmt;
                obj.ChargerSmtTotalQuantity = chargerSmtTotalQuantity;
                obj.ChargerSmtPerDayCapacity = chargerSmtPerDayCapacity;
                obj.SmtAllLineNumber = lineArrSmtNum;
            }

            if (houseChk == "true") {
                obj.MaterialReceiveStartDateHousing = materialReceiveStartDateHousing;
                obj.MaterialReceiveEndDateHousing = materialReceiveEndDateHousing;
                obj.IqcCompleteStartDateHousing = iqcCompleteStartDateHousing;
                obj.IqcCompleteEndDateHousing = iqcCompleteEndDateHousing;
                obj.TrialProductionStartDateHousing = trialProductionStartDateHousing;
                obj.TrialProductionEndDateHousing = trialProductionEndDateHousing;
                obj.HousingReliabilityStartDateHousing = housingReliabilityStartDateHousing;
                obj.HousingReliabilityEndtDateHousing = housingReliabilityEndtDateHousing;
                obj.HousingMassProStartDateHousing = housingMassProStartDateHousing;
                obj.HousingMassProEndtDateHousing = housingMassProEndtDateHousing;
                obj.ChargerHousingTotalQuantity = chargerHousingTotalQuantity;
                obj.ChargerHousingPerDayCapacity = chargerHousingPerDayCapacity;
                obj.HousingAllLineNumber = lineArrHousingNum;
            }
            if (assemblyChk == "true") {
                obj.MaterialReceiveStartDateAssembly = materialReceiveStartDateAssembly;
                obj.MaterialReceiveEndDateAssembly = materialReceiveEndDateAssembly;
                obj.IqcCompleteStartDateAssembly = iqcCompleteStartDateAssembly;
                obj.IqcCompleteEndDateAssembly = iqcCompleteEndDateAssembly;
                obj.TrialProductionStartDateAssembly = trialProductionStartDateAssembly;
                obj.TrialProductionEndDateAssembly = trialProductionEndDateAssembly;
                obj.RnDConfirmStartDateAssembly = rnDConfirmStartDateAssembly;
                obj.RnDConfirmEndDateAssembly = rnDConfirmEndDateAssembly;
                obj.AssembStartDateAssembly = assembStartDateAssembly;
                obj.AssembEndDateAssembly = assembEndDateAssembly;
                obj.ChargerAssemblyTotalQuantity = chargerAssemblyTotalQuantity;
                obj.ChargerAssemblyPerDayCapacity = chargerAssemblyPerDayCapacity;
                obj.AssemblyAllLineNumber = lineArrAssemblyNum;
            }

            obj.SmtChk = smtChk;
            obj.HouseChk = houseChk;
            obj.AssemblyChk = assemblyChk;
            
            objArr.push(obj);

            console.log("objArr---->" + objArr);

            refresh();
            $.ajax({
                type: 'POST',
                url: '@Url.Action("ChargerPlanAllData", "Production")',
                data: "{objArr:'" + JSON.stringify(objArr) + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {
                    if (!data.success) {
                        if (data.errors.name) {
                            $('.throw_error').fadeIn(1000).html(data.errors.name);
                        }
                    }
                    else {
                        $('#success').fadeIn(1000).append('<p>' + data.posted + '</p>');
                    }
                }
            });
            window.location = '@Url.Action("ChargerPlan", "Production")';

        });
    });
    function materialReceiveAssemblyFunc() {
        var materialReceiveStartDateSmt;
        var materialReceiveEndDateSmt;
        var iqcCompleteStartDateSmt;
        var iqcCompleteEndDateSmt;
        var trialProductionStartDateSmt;
        var trialProductionEndDateSmt;
        var massProductionStartDateSmt;
        var massProductionEndDateSmt;

        var materialReceiveStartDateHousing;
        var materialReceiveEndDateHousing;
        var iqcCompleteStartDateHousing;
        var iqcCompleteEndDateHousing;
        var trialProductionStartDateHousing;
        var trialProductionEndDateHousing;
        var housingReliabilityStartDateHousing;
        var housingReliabilityEndtDateHousing;
        var housingMassProStartDateHousing;
        var housingMassProEndtDateHousing;

        var materialReceiveStartDateAssembly;
        var materialReceiveEndDateAssembly;
        var iqcCompleteStartDateAssembly;
        var iqcCompleteEndDateAssembly;
        var trialProductionStartDateAssembly;
        var trialProductionEndDateAssembly;
        var rnDConfirmStartDateAssembly;
        var rnDConfirmEndDateAssembly;
        var assembStartDateAssembly;
        var assembEndDateAssembly;


        materialReceiveStartDateAssembly = $.trim($('#materialReceiveStartDateAssembly').val());
        console.log("materialReceiveStartDateAssembly :" + materialReceiveStartDateAssembly);

        if (materialReceiveStartDateAssembly != "") { //if for all////////



            var materialAssembly11 = isHolidayCheck(materialReceiveStartDateAssembly);

            if (materialAssembly11 == true) {

                alertify.confirm("WOW!!! It's Holiday.", "Do you want to proceed it?", function () {
                    show1();
                    alertify.success('Ok');
                    ////////////////Holiday//////
                    //materialReceiveStartDateAssembly = $.trim($('#materialReceiveStartDateAssembly').val());
                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val(moment(materialReceiveStartDateAssembly).add(1, 'days').format("YYYY-MM-DD")));
                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());

                    if (materialReceiveEndDateAssembly == "Invalid date") {
                        var materialReceiveEndDateAssembly11 = $.trim($('#materialReceiveEndDateAssembly').val(""));
                    }

                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());
                    /////////////////////////////
                    var dCount1 = getHolidayCount(materialReceiveStartDateAssembly, materialReceiveEndDateAssembly);

                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val(moment(materialReceiveEndDateAssembly).add(dCount1, 'days').format("YYYY-MM-DD")));
                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());

                    ////////////////
                    var mdAssembly21 = isHoliday(materialReceiveEndDateAssembly);
                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val(mdAssembly21));
                    materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetMaterialReceiveDateAssembly", "Production")',
                        data: "{ materialReceiveStartDateAssembly: '" + materialReceiveStartDateAssembly
                            + "', materialReceiveEndDateAssembly: '" + materialReceiveEndDateAssembly
                            + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: 'json',
                        async: false,
                        success: function (data) {

                            console.log("data :" + data);
                            var dataList = [];
                            for (var x in data) {
                                dataList = data[x];
                            }
                            console.log(dataList);

                            if (dataList == "YES") {
                                alertify.dialog('alert').set({
                                    'title': '   ',
                                    'transition': 'zoom',
                                    'message': "One Project is waiting for Assembly Material Receiving in Inventory.",
                                }).show();

                                $('#materialReceiveStartDateSmt').val("");
                                $('#materialReceiveEndDateSmt').val("");
                                $('#iqcCompleteStartDateSmt').val("");
                                $('#iqcCompleteEndDateSmt').val("");
                                $('#trialProductionStartDateSmt').val("");
                                $('#trialProductionEndDateSmt').val("");
                                $('#massProductionStartDateSmt').val("");
                                $('#massProductionEndDateSmt').val("");

                                $('#materialReceiveStartDateHousing').val("");
                                $('#materialReceiveEndDateHousing').val("");
                                $('#iqcCompleteStartDateHousing').val("");
                                $('#iqcCompleteEndDateHousing').val("");
                                $('#trialProductionStartDateHousing').val("");
                                $('#trialProductionEndDateHousing').val("");
                                $('#housingReliabilityStartDateHousing').val("");
                                $('#housingReliabilityEndtDateHousing').val("");
                                $('#housingMassProStartDateHousing').val("");
                                $('#housingMassProEndtDateHousing').val("");

                                $('#materialReceiveStartDateAssembly').val("");
                                $('#materialReceiveEndDateAssembly').val("");
                                $('#iqcCompleteStartDateAssembly').val("");
                                $('#iqcCompleteEndDateAssembly').val("");
                                $('#trialProductionStartDateAssembly').val("");
                                $('#trialProductionEndDateAssembly').val("");
                                $('#rnDConfirmStartDateAssembly').val("");
                                $('#rnDConfirmEndDateAssembly').val("");
                                $('#assembStartDateAssembly').val("");
                                $('#assembEndDateAssembly').val("");

                                return false;
                            }
                        }
                    });


                    ///////////////////Assembly IQC/////////////////
                    iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val(materialReceiveEndDateAssembly));
                    console.log("iqcCompleteStartDateAssembly :" + iqcCompleteStartDateAssembly);
                    iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val());

                    if (iqcCompleteStartDateAssembly == "Invalid date") {
                        var iqcCompleteStartDateAssembly11 = $.trim($('#iqcCompleteStartDateAssembly').val(""));
                    }
                    iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val());

                    //holiday check//
                    var iqcAssembly11 = isHoliday(iqcCompleteStartDateAssembly);
                    iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val(iqcAssembly11));
                    iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val());
                    /////////////////

                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val(moment(iqcCompleteStartDateAssembly).add(1, 'days').format("YYYY-MM-DD")));
                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());

                    if (iqcCompleteEndDateAssembly == "Invalid date") {
                        var iqcCompleteEndDateAssembly11 = $.trim($('#iqcCompleteEndDateAssembly').val(""));
                    }
                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());

                    /////////Add extra days for holiday///////////
                    var dCount20 = getHolidayCount(iqcCompleteStartDateAssembly, iqcCompleteEndDateAssembly);

                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val(moment(iqcCompleteEndDateAssembly).add(dCount20, 'days').format("YYYY-MM-DD")));
                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());
                    /////////////////////////////////////////////

                    /////holiday check////
                    var iqcAssembly21 = isHoliday(iqcCompleteEndDateAssembly);
                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val(iqcAssembly21));
                    iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());
                    //////////////////////

                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetIqcCompleteDateAssembly", "Production")',
                        data: "{ iqcCompleteStartDateAssembly: '" + iqcCompleteStartDateAssembly
                            + "', iqcCompleteEndDateAssembly: '" + iqcCompleteEndDateAssembly
                            + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: 'json',
                        async: false,
                        success: function (data) {

                            console.log("data :" + data);
                            var dataList = [];
                            for (var x in data) {
                                dataList = data[x];
                            }
                            console.log(dataList);

                            if (dataList == "YES") {
                                alertify.dialog('alert').set({
                                    'title': '   ',
                                    'transition': 'zoom',
                                    'message': "One Project is waiting for Assembly IQC Confirmation.",
                                }).show();

                                $('#materialReceiveStartDateSmt').val("");
                                $('#materialReceiveEndDateSmt').val("");
                                $('#iqcCompleteStartDateSmt').val("");
                                $('#iqcCompleteEndDateSmt').val("");
                                $('#trialProductionStartDateSmt').val("");
                                $('#trialProductionEndDateSmt').val("");
                                $('#massProductionStartDateSmt').val("");
                                $('#massProductionEndDateSmt').val("");

                                $('#materialReceiveStartDateHousing').val("");
                                $('#materialReceiveEndDateHousing').val("");
                                $('#iqcCompleteStartDateHousing').val("");
                                $('#iqcCompleteEndDateHousing').val("");
                                $('#trialProductionStartDateHousing').val("");
                                $('#trialProductionEndDateHousing').val("");
                                $('#housingReliabilityStartDateHousing').val("");
                                $('#housingReliabilityEndtDateHousing').val("");
                                $('#housingMassProStartDateHousing').val("");
                                $('#housingMassProEndtDateHousing').val("");

                                $('#materialReceiveStartDateAssembly').val("");
                                $('#materialReceiveEndDateAssembly').val("");
                                $('#iqcCompleteStartDateAssembly').val("");
                                $('#iqcCompleteEndDateAssembly').val("");
                                $('#trialProductionStartDateAssembly').val("");
                                $('#trialProductionEndDateAssembly').val("");
                                $('#rnDConfirmStartDateAssembly').val("");
                                $('#rnDConfirmEndDateAssembly').val("");
                                $('#assembStartDateAssembly').val("");
                                $('#assembEndDateAssembly').val("");
                                return false;
                            }
                        }
                    });

                    ////////////////Assembly Trial///////////////
                    trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val(iqcCompleteStartDateAssembly));
                    console.log("trialProductionStartDateAssembly :" + trialProductionStartDateAssembly);
                    trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());

                    if (trialProductionStartDateAssembly == "Invalid date") {
                        var trialProductionStartDateAssembly11 = $.trim($('#trialProductionStartDateAssembly').val(""));
                    }
                    trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());

                    /////holiday check////
                    var trialAssembly11 = isHoliday(trialProductionStartDateAssembly);
                    trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val(trialAssembly11));
                    trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());
                    //////////////////////
                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val(iqcCompleteStartDateAssembly));
                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());

                    if (trialProductionEndDateAssembly == "Invalid date") {
                        var trialProductionEndDateAssembly11 = $.trim($('#trialProductionEndDateAssembly').val(""));
                    }
                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());


                    ////////////////////////////
                    var dCount2 = getHolidayCount(trialProductionStartDateAssembly, trialProductionEndDateAssembly);

                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val(moment(trialProductionEndDateAssembly).add(dCount2, 'days').format("YYYY-MM-DD")));
                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());

                    ////////////////////////////

                    /////holiday check////
                    var trialAssembly21 = isHoliday(trialProductionEndDateAssembly);
                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val(trialAssembly21));
                    trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());
                    //////////////////////
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetTrialProductionDateAssembly", "Production")',
                        data: "{ trialProductionStartDateAssembly: '" + trialProductionStartDateAssembly
                            + "', trialProductionEndDateAssembly: '" + trialProductionEndDateAssembly
                            + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: 'json',
                        async: false,
                        success: function (data) {

                            console.log("data :" + data);
                            var dataList = [];
                            for (var x in data) {
                                dataList = data[x];
                            }
                            console.log(dataList);

                            if (dataList == "YES") {
                                alertify.dialog('alert').set({
                                    'title': '   ',
                                    'transition': 'zoom',
                                    'message': "One Project is waiting for Assembly Trial Production.",
                                }).show();


                                $('#materialReceiveStartDateSmt').val("");
                                $('#materialReceiveEndDateSmt').val("");
                                $('#iqcCompleteStartDateSmt').val("");
                                $('#iqcCompleteEndDateSmt').val("");
                                $('#trialProductionStartDateSmt').val("");
                                $('#trialProductionEndDateSmt').val("");
                                $('#massProductionStartDateSmt').val("");
                                $('#massProductionEndDateSmt').val("");

                                $('#materialReceiveStartDateHousing').val("");
                                $('#materialReceiveEndDateHousing').val("");
                                $('#iqcCompleteStartDateHousing').val("");
                                $('#iqcCompleteEndDateHousing').val("");
                                $('#trialProductionStartDateHousing').val("");
                                $('#trialProductionEndDateHousing').val("");
                                $('#housingReliabilityStartDateHousing').val("");
                                $('#housingReliabilityEndtDateHousing').val("");
                                $('#housingMassProStartDateHousing').val("");
                                $('#housingMassProEndtDateHousing').val("");

                                $('#materialReceiveStartDateAssembly').val("");
                                $('#materialReceiveEndDateAssembly').val("");
                                $('#iqcCompleteStartDateAssembly').val("");
                                $('#iqcCompleteEndDateAssembly').val("");
                                $('#trialProductionStartDateAssembly').val("");
                                $('#trialProductionEndDateAssembly').val("");
                                $('#rnDConfirmStartDateAssembly').val("");
                                $('#rnDConfirmEndDateAssembly').val("");
                                $('#assembStartDateAssembly').val("");
                                $('#assembEndDateAssembly').val("");

                                return false;
                            }
                        }
                    });
                    /////////////Assembly RND///////////////
                    rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val(moment(trialProductionStartDateAssembly).add(1, 'days').format("YYYY-MM-DD")));

                    console.log("rnDConfirmStartDateAssembly :" + rnDConfirmStartDateAssembly);
                    rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val());

                    if (rnDConfirmStartDateAssembly == "Invalid date") {
                        var rnDConfirmStartDateAssembly11 = $.trim($('#rnDConfirmStartDateAssembly').val(""));
                    }
                    rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val());


                    /////holiday check////
                    var rndAssembly11 = isHoliday(rnDConfirmStartDateAssembly);
                    rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val(rndAssembly11));
                    rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val());
                    //////////////////////
                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val(moment(rnDConfirmStartDateAssembly).add(4, 'days').format("YYYY-MM-DD")));
                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());

                    if (rnDConfirmEndDateAssembly == "Invalid date") {
                        var rnDConfirmEndDateAssembly11 = $.trim($('#rnDConfirmEndDateAssembly').val(""));
                    }
                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());
                    ////////////////////////////
                    var dCount3 = getHolidayCount(rnDConfirmStartDateAssembly, rnDConfirmEndDateAssembly);

                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val(moment(rnDConfirmEndDateAssembly).add(dCount3, 'days').format("YYYY-MM-DD")));
                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());

                    ////////////////////////////

                    /////holiday check////
                    var rndAssembly21 = isHoliday(rnDConfirmEndDateAssembly);
                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val(rndAssembly21));
                    rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());
                    //////////////////////


                    //////////////Assembly///////////////////
                    assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val(moment(rnDConfirmEndDateAssembly).add(1, 'days').format("YYYY-MM-DD")));

                    console.log("assembStartDateAssembly :" + assembStartDateAssembly);
                    assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());

                    if (assembStartDateAssembly == "Invalid date") {
                        var assembStartDateAssembly11 = $.trim($('#assembStartDateAssembly').val(""));
                    }
                    assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());


                    /////holiday check////
                    var assembly11 = isHoliday(assembStartDateAssembly);
                    assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val(assembly11));
                    assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());
                    //////////////////////

                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("GetAssemblyProduction", "Production")',
                        data: "{ assembStartDateAssembly: '" + assembStartDateAssembly
                            + "', assembEndDateAssembly: '" + assembStartDateAssembly
                            + "'}",
                        contentType: "application/json; charset=utf-8",
                        dataType: 'json',
                        async: false,
                        success: function (data) {

                            console.log("data :" + data);
                            var dataList = [];
                            for (var x in data) {
                                dataList = data[x];
                            }
                            console.log(dataList);

                            if (dataList == "YES") {
                                alertify.dialog('alert').set({
                                    'title': '   ',
                                    'transition': 'zoom',
                                    'message': "One Project is waiting for Assembly Production.",
                                }).show();

                                $('#materialReceiveStartDateSmt').val("");
                                $('#materialReceiveEndDateSmt').val("");
                                $('#iqcCompleteStartDateSmt').val("");
                                $('#iqcCompleteEndDateSmt').val("");
                                $('#trialProductionStartDateSmt').val("");
                                $('#trialProductionEndDateSmt').val("");
                                $('#massProductionStartDateSmt').val("");
                                $('#massProductionEndDateSmt').val("");

                                $('#materialReceiveStartDateHousing').val("");
                                $('#materialReceiveEndDateHousing').val("");
                                $('#iqcCompleteStartDateHousing').val("");
                                $('#iqcCompleteEndDateHousing').val("");
                                $('#trialProductionStartDateHousing').val("");
                                $('#trialProductionEndDateHousing').val("");
                                $('#housingReliabilityStartDateHousing').val("");
                                $('#housingReliabilityEndtDateHousing').val("");
                                $('#housingMassProStartDateHousing').val("");
                                $('#housingMassProEndtDateHousing').val("");

                                $('#materialReceiveStartDateAssembly').val("");
                                $('#materialReceiveEndDateAssembly').val("");
                                $('#iqcCompleteStartDateAssembly').val("");
                                $('#iqcCompleteEndDateAssembly').val("");
                                $('#trialProductionStartDateAssembly').val("");
                                $('#trialProductionEndDateAssembly').val("");
                                $('#rnDConfirmStartDateAssembly').val("");
                                $('#rnDConfirmEndDateAssembly').val("");
                                $('#assembStartDateAssembly').val("");
                                $('#assembEndDateAssembly').val("");

                                return false;
                            }
                        }
                    });


                    //////////////////BHousing///////////////
                    //$("#housingChkId").on('change', function () {
                    //    if ($(this).is(':checked')) {
                    //        $(this).attr('value', 'true');
                    //    }
                    //    //else {
                    //    //    $(this).attr('value', 'false');
                    //    //}

                    //    houseChk = $('#housingChkId').val();
                    //    console.log("houseChk :" + houseChk);
                    //});

                    if ($("#housingChkId").is(':checked')) {
                        $("#housingChkId").attr('value', 'true');
                        $("#housingChkId").prop("checked", true);
                    } else {
                        $("#housingChkId").attr('value', 'false');
                        $("#housingChkId").prop("checked", false);
                    }
                    houseChk = $('#housingChkId').val();
                    console.log("houseChk :" + houseChk);

                    if (houseChk == "true") {
                        /////////////////Housing Reliability///////////
                        housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val(materialReceiveEndDateAssembly));
                        housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val());

                        if (housingReliabilityStartDateHousing == "Invalid date") {
                            var housingReliabilityStartDateHousing11 = $.trim($('#housingReliabilityStartDateHousing').val(""));
                        }
                        housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val());


                        /////holiday check////
                        var housingRelia11 = isHoliday(housingReliabilityStartDateHousing);
                        housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val(housingRelia11));
                        housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val());
                        //////////////////////

                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(materialReceiveEndDateAssembly).add(1, 'days').format("YYYY-MM-DD")));
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

                        if (housingReliabilityEndtDateHousing == "Invalid date") {
                            var housingReliabilityEndtDateHousing11 = $.trim($('#housingReliabilityEndtDateHousing').val(""));
                        }
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

                        /////////Add extra days for holiday///////////
                        var dCount19 = getHolidayCount(housingReliabilityStartDateHousing, housingReliabilityEndtDateHousing);

                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(housingReliabilityEndtDateHousing).add(dCount19, 'days').format("YYYY-MM-DD")));
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());
                        ///////////////////
                        /////holiday check////
                        var housingRelia21 = isHoliday(housingReliabilityEndtDateHousing);
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(housingRelia21));
                        housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());
                        //////////////////////

                        /////////////////Housing Trial/////////////
                        trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val(materialReceiveStartDateAssembly));
                        trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());
                        if (trialProductionStartDateHousing == "Invalid date") {
                            var trialProductionStartDateHousing11 = $.trim($('#trialProductionStartDateHousing').val(""));
                        }
                        trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());

                        /////holiday check////
                        var housingTrial11 = isHoliday(trialProductionStartDateHousing);
                        trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val(housingTrial11));
                        trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());
                        //////////////////////

                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(materialReceiveStartDateAssembly));
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());

                        if (trialProductionEndDateHousing == "Invalid date") {
                            var trialProductionEndDateHousing11 = $.trim($('#trialProductionEndDateHousing').val(""));
                        }
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());
                        /////////Add extra days for holiday///////////
                        var dCount18 = getHolidayCount(trialProductionStartDateHousing, trialProductionEndDateHousing);

                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(moment(trialProductionEndDateHousing).add(dCount18, 'days').format("YYYY-MM-DD")));
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());
                        ///////////////////
                        /////holiday check////
                        var housingTrial21 = isHoliday(trialProductionEndDateHousing);
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(housingTrial21));
                        trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());
                        //////////////////////

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTrialProductionDateHousing", "Production")',
                            data: "{ trialProductionStartDateHousing: '" + trialProductionStartDateHousing
                                + "', trialProductionEndDateHousing: '" + trialProductionEndDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing Trial Production.",
                                    }).show();
                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");

                                    return false;
                                }
                            }
                        });
                        ///////////////Housing IQC////////////////////

                        iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val(trialProductionStartDateHousing));
                        console.log("iqcCompleteStartDateHousing :" + iqcCompleteStartDateHousing);
                        iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val());

                        if (iqcCompleteStartDateHousing == "Invalid date") {
                            var iqcCompleteStartDateHousing11 = $.trim($('#iqcCompleteStartDateHousing').val(""));
                        }
                        iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val());
                        /////holiday check////
                        var housingIqc11 = isHoliday(iqcCompleteStartDateHousing);
                        iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val(housingIqc11));
                        iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val());

                        ////////////////////////////////
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(trialProductionStartDateHousing).add(1, 'days').format("YYYY-MM-DD")));
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());

                        if (iqcCompleteEndDateHousing == "Invalid date") {
                            var iqcCompleteEndDateHousing11 = $.trim($('#iqcCompleteEndDateHousing').val(""));
                        }
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());

                        /////////Add extra days for holiday///////////
                        var dCount17 = getHolidayCount(iqcCompleteStartDateHousing, iqcCompleteEndDateHousing);

                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(iqcCompleteEndDateHousing).add(dCount17, 'days').format("YYYY-MM-DD")));
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
                        ///////////////////

                        /////holiday check////
                        var housingIqc21 = isHoliday(iqcCompleteEndDateHousing);
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(housingIqc21));
                        iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
                        //////////////////////

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetIqcCompleteDateHousing", "Production")',
                            data: "{ iqcCompleteStartDateHousing: '" + iqcCompleteStartDateHousing
                                + "', iqcCompleteEndDateHousing: '" + iqcCompleteEndDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing IQC Confirmation.",
                                    }).show();


                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");

                                    return false;
                                }
                            }
                        });
                        ///////////////Housing Material////////////////////

                        materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val(moment(iqcCompleteStartDateHousing).add(-1, 'days').format("YYYY-MM-DD")));
                        console.log("materialReceiveStartDateHousing :" + materialReceiveStartDateHousing);
                        materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());

                        if (materialReceiveStartDateHousing == "Invalid date") {
                            var materialReceiveStartDateHousing11 = $.trim($('#materialReceiveStartDateHousing').val(""));
                        }
                        materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());

                        /////holiday check////
                        var housingMaterial11 = isHolidayPreviousDate(materialReceiveStartDateHousing);
                        materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val(housingMaterial11));
                        materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());
                        //////////////////////

                        materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val(materialReceiveStartDateHousing));
                        materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());

                        if (materialReceiveEndDateHousing == "Invalid date") {
                            var materialReceiveEndDateHousing11 = $.trim($('#materialReceiveEndDateHousing').val(""));
                        }
                        materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetMaterialReceiveDateHousing", "Production")',
                            data: "{ materialReceiveStartDateHousing: '" + materialReceiveStartDateHousing
                                + "', materialReceiveEndDateHousing: '" + materialReceiveEndDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing Material Receiving.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");
                                    return false;
                                }
                            }
                        });
                        ///////////////Housing Mass production///////////
                        housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val(rnDConfirmEndDateAssembly));

                        console.log("housingMassProStartDateHousing :" + housingMassProStartDateHousing);
                        housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());

                        if (housingMassProStartDateHousing == "Invalid date") {
                            var housingMassProStartDateHousing11 = $.trim($('#housingMassProStartDateHousing').val(""));
                        }
                        housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());

                        /////holiday check////
                        var housingMassPro11 = isHoliday(housingMassProStartDateHousing);
                        housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val(housingMassPro11));
                        housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());
                        //////////////////////

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetHousingMassProduction", "Production")',
                            data: "{ housingMassProStartDateHousing: '" + housingMassProStartDateHousing
                                + "', housingMassProEndtDateHousing: '" + housingMassProStartDateHousing
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for Housing Mass Production.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");
                                    return false;
                                }
                            }
                        });
                    } else if (houseChk == "false") {
                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");
                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");
                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");
                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");
                        $('#housingMassProStartDateHousing').val("");
                        $('#housingMassProEndtDateHousing').val("");

                        $('#materialReceiveStartDateHousing').attr("disabled", true);
                        $('#materialReceiveEndDateHousing').attr("disabled", true);
                        $('#iqcCompleteStartDateHousing').attr("disabled", true);
                        $('#iqcCompleteEndDateHousing').attr("disabled", true);
                        $('#trialProductionStartDateHousing').attr("disabled", true);
                        $('#trialProductionEndDateHousing').attr("disabled", true);
                        $('#housingReliabilityStartDateHousing').attr("disabled", true);
                        $('#housingReliabilityEndtDateHousing').attr("disabled", true);
                        $('#housingMassProStartDateHousing').attr("disabled", true);
                        $('#housingMassProEndtDateHousing').attr("disabled", true);

                        $('#chargerHousing_TotalQuantity').attr("disabled", true);
                        $('#chargerHousing_PerDayCapacity').attr("disabled", true);
                        document.getElementById("housingMassLineInfo_chosen").disabled = true;
                    }

                    //$("#smtChkId").on('change', function () {
                    //    if ($(this).is(':checked')) {
                    //        $(this).attr('value', 'true');
                    //        $('#materialReceiveStartDateSmt').attr("disabled", true);
                    //        $('#materialReceiveEndDateSmt').attr("disabled", true);
                    //        $('#iqcCompleteStartDateSmt').attr("disabled", true);
                    //        $('#iqcCompleteEndDateSmt').attr("disabled", true);
                    //        $('#trialProductionStartDateSmt').attr("disabled", true);
                    //        $('#trialProductionEndDateSmt').attr("disabled", true);
                    //        $('#massProductionStartDateSmt').attr("disabled", true);
                    //        $('#massProductionEndDateSmt').attr("disabled", true);

                    //        $('#chargerSmt_TotalQuantity').attr("disabled", true);
                    //        $('#chargerSmt_PerDayCapacity').attr("disabled", true);
                    //        document.getElementById("smtMassLineInfo_chosen").disabled = true;


                    //        $('#materialReceiveStartDateSmt').val("");
                    //        $('#materialReceiveEndDateSmt').val("");
                    //        $('#iqcCompleteStartDateSmt').val("");
                    //        $('#iqcCompleteEndDateSmt').val("");
                    //        $('#trialProductionStartDateSmt').val("");
                    //        $('#trialProductionEndDateSmt').val("");
                    //        $('#massProductionStartDateSmt').val("");
                    //        $('#massProductionEndDateSmt').val("");
                    //        $('#chargerSmt_TotalQuantity').val("");
                    //        $('#chargerSmt_PerDayCapacity').val("");
                    //        $('#smtMassLineInfo').val("");


                    //    } else {
                    //        $(this).attr('value', 'false');
                    //    }

                    //    smtChk = $('#smtChkId').val();
                    //    console.log("smtChk :" + smtChk);
                    //});

                    if ($("#smtChkId").is(':checked')) {
                        $("#smtChkId").attr('value', 'true');
                        $("#smtChkId").prop("checked", true);
                    } else {
                        $("#smtChkId").attr('value', 'false');
                        $("#smtChkId").prop("checked", false);
                    }
                    smtChk = $('#smtChkId').val();
                    console.log("smtChk :" + smtChk);
                    
                    if (smtChk == "true") {
                        ///////////////SMT mass production////////////
                        massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val(rnDConfirmEndDateAssembly));

                        console.log("massProductionStartDateSmt :" + massProductionStartDateSmt);
                        massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());

                        if (massProductionStartDateSmt == "Invalid date") {
                            var massProductionStartDateSmt11 = $.trim($('#massProductionStartDateSmt').val(""));
                        }
                        massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());

                        /////holiday check////
                        var smtMassPro11 = isHoliday(massProductionStartDateSmt);
                        massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val(smtMassPro11));
                        massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());
                        //////////////////////

                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetMassProductionDateForSmt", "Production")',
                            data: "{ massProductionStartDateSmt: '" + massProductionStartDateSmt
                                + "', massProductionEndDateSmt: '" + massProductionStartDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT mass Production.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");

                                    return false;
                                }
                            }
                        });
                        ///////SMT trial Production///////////

                        trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val(materialReceiveStartDateAssembly));
                        console.log("trialProductionStartDateSmt :" + trialProductionStartDateSmt);
                        trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());

                        if (trialProductionStartDateSmt == "Invalid date") {
                            var trialProductionStartDateSmt11 = $.trim($('#trialProductionStartDateSmt').val(""));
                        }
                        trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());

                        /////holiday check////
                        var smtTrial11 = isHoliday(trialProductionStartDateSmt);
                        trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val(smtTrial11));
                        trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());
                        //////////////////////
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(materialReceiveStartDateAssembly));
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());

                        if (trialProductionEndDateSmt == "Invalid date") {
                            var trialProductionEndDateSmt11 = $.trim($('#trialProductionEndDateSmt').val(""));
                        }
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());

                        /////////Add extra days for holiday///////////
                        var dCount16 = getHolidayCount(trialProductionStartDateSmt, trialProductionEndDateSmt);

                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(moment(trialProductionEndDateSmt).add(dCount16, 'days').format("YYYY-MM-DD")));
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());
                        ///////////////////

                        /////holiday check////
                        var smtTrial21 = isHoliday(trialProductionEndDateSmt);
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(smtTrial21));
                        trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());
                        //////////////////////
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetTrialProductionDateForSmt", "Production")',
                            data: "{ trialProductionStartDateSmt: '" + trialProductionStartDateSmt
                                + "', trialProductionEndDateSmt: '" + trialProductionEndDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT Trial Production.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");
                                    return false;
                                }
                            }
                        });

                        ///////SMT IQC test///////////

                        iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val(materialReceiveStartDateAssembly));
                        console.log("iqcCompleteStartDateSmt :" + iqcCompleteStartDateSmt);
                        iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val());

                        if (iqcCompleteStartDateSmt == "Invalid date") {
                            var iqcCompleteStartDateSmt11 = $.trim($('#iqcCompleteStartDateSmt').val(""));
                        }
                        iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val());
                        /////holiday check////
                        var smtIqc11 = isHoliday(iqcCompleteStartDateSmt);
                        iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val(smtIqc11));
                        iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val());
                        //////////////////////
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(materialReceiveEndDateAssembly));
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

                        if (iqcCompleteEndDateSmt == "Invalid date") {
                            var iqcCompleteEndDateSmt11 = $.trim($('#iqcCompleteEndDateSmt').val(""));
                        }
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

                        /////////Add extra days for holiday///////////
                        var dCount15 = getHolidayCount(iqcCompleteStartDateSmt, iqcCompleteEndDateSmt);

                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(moment(iqcCompleteEndDateSmt).add(dCount15, 'days').format("YYYY-MM-DD")));
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());
                        ///////////////////

                        /////holiday check////
                        var smtIqc21 = isHoliday(iqcCompleteEndDateSmt);
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(smtIqc21));
                        iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());
                        //////////////////////
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetIqcCompleteForSmt", "Production")',
                            data: "{ iqcCompleteStartDateSmt: '" + iqcCompleteStartDateSmt
                                + "', iqcCompleteEndDateSmt: '" + iqcCompleteEndDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT IQC confirmation.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");
                                    return false;
                                }
                            }
                        });

                        ///////SMT Material Receive///////////

                        materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val(moment(materialReceiveStartDateAssembly).add(-1, 'days').format("YYYY-MM-DD")));
                        console.log("materialReceiveStartDateSmt :" + materialReceiveStartDateSmt);
                        materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val());

                        if (materialReceiveStartDateSmt == "Invalid date") {
                            var materialReceiveStartDateSmt11 = $.trim($('#materialReceiveStartDateSmt').val(""));
                        }
                        materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val());
                        /////holiday check////
                        var smtMaterial11 = isHoliday(materialReceiveStartDateSmt);
                        materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val(smtMaterial11));
                        materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val());
                        //////////////////////
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(materialReceiveStartDateAssembly));
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

                        if (materialReceiveEndDateSmt == "Invalid date") {
                            var materialReceiveEndDateSmt11 = $.trim($('#materialReceiveEndDateSmt').val(""));
                        }
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

                        /////////Add extra days for holiday///////////
                        var dCount14 = getHolidayCount(materialReceiveStartDateSmt, materialReceiveEndDateSmt);

                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(moment(materialReceiveEndDateSmt).add(dCount14, 'days').format("YYYY-MM-DD")));
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());
                        ///////////////////


                        /////holiday check////
                        var smtMaterial21 = isHoliday(materialReceiveEndDateSmt);
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(smtMaterial21));
                        materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());
                        //////////////////////
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("GetMaterialReceiveForSmt", "Production")',
                            data: "{ materialReceiveStartDateSmt: '" + materialReceiveStartDateSmt
                                + "', materialReceiveEndDateSmt: '" + materialReceiveEndDateSmt
                                + "'}",
                            contentType: "application/json; charset=utf-8",
                            dataType: 'json',
                            async: false,
                            success: function (data) {

                                console.log("data :" + data);
                                var dataList = [];
                                for (var x in data) {
                                    dataList = data[x];
                                }
                                console.log(dataList);

                                if (dataList == "YES") {
                                    alertify.dialog('alert').set({
                                        'title': '   ',
                                        'transition': 'zoom',
                                        'message': "One Project is waiting for SMT Material Receiving.",
                                    }).show();

                                    $('#materialReceiveStartDateSmt').val("");
                                    $('#materialReceiveEndDateSmt').val("");
                                    $('#iqcCompleteStartDateSmt').val("");
                                    $('#iqcCompleteEndDateSmt').val("");
                                    $('#trialProductionStartDateSmt').val("");
                                    $('#trialProductionEndDateSmt').val("");
                                    $('#massProductionStartDateSmt').val("");
                                    $('#massProductionEndDateSmt').val("");

                                    $('#materialReceiveStartDateHousing').val("");
                                    $('#materialReceiveEndDateHousing').val("");
                                    $('#iqcCompleteStartDateHousing').val("");
                                    $('#iqcCompleteEndDateHousing').val("");
                                    $('#trialProductionStartDateHousing').val("");
                                    $('#trialProductionEndDateHousing').val("");
                                    $('#housingReliabilityStartDateHousing').val("");
                                    $('#housingReliabilityEndtDateHousing').val("");
                                    $('#housingMassProStartDateHousing').val("");
                                    $('#housingMassProEndtDateHousing').val("");

                                    $('#materialReceiveStartDateAssembly').val("");
                                    $('#materialReceiveEndDateAssembly').val("");
                                    $('#iqcCompleteStartDateAssembly').val("");
                                    $('#iqcCompleteEndDateAssembly').val("");
                                    $('#trialProductionStartDateAssembly').val("");
                                    $('#trialProductionEndDateAssembly').val("");
                                    $('#rnDConfirmStartDateAssembly').val("");
                                    $('#rnDConfirmEndDateAssembly').val("");
                                    $('#assembStartDateAssembly').val("");
                                    $('#assembEndDateAssembly').val("");
                                    return false;
                                }
                            }
                        });
                    } else if (smtChk == "false") {
                        $('#materialReceiveStartDateSmt').attr("disabled", true);
                        $('#materialReceiveEndDateSmt').attr("disabled", true);
                        $('#iqcCompleteStartDateSmt').attr("disabled", true);
                        $('#iqcCompleteEndDateSmt').attr("disabled", true);
                        $('#trialProductionStartDateSmt').attr("disabled", true);
                        $('#trialProductionEndDateSmt').attr("disabled", true);
                        $('#massProductionStartDateSmt').attr("disabled", true);
                        $('#massProductionEndDateSmt').attr("disabled", true);

                        $('#chargerSmt_TotalQuantity').attr("disabled", true);
                        $('#chargerSmt_PerDayCapacity').attr("disabled", true);
                        document.getElementById("smtMassLineInfo_chosen").disabled = true;


                        $('#materialReceiveStartDateSmt').val("");
                        $('#materialReceiveEndDateSmt').val("");
                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");
                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");
                        $('#massProductionStartDateSmt').val("");
                        $('#massProductionEndDateSmt').val("");
                    }

                    /////////////Holiday///////////
                    hide1();
                }, function () {

                    alertify.error('Cancelled');
                    /////write below//////
                    $('#materialReceiveStartDateSmt').val("");
                    $('#materialReceiveEndDateSmt').val("");
                    $('#iqcCompleteStartDateSmt').val("");
                    $('#iqcCompleteEndDateSmt').val("");
                    $('#trialProductionStartDateSmt').val("");
                    $('#trialProductionEndDateSmt').val("");
                    $('#massProductionStartDateSmt').val("");
                    $('#massProductionEndDateSmt').val("");

                    $('#materialReceiveStartDateHousing').val("");
                    $('#materialReceiveEndDateHousing').val("");
                    $('#iqcCompleteStartDateHousing').val("");
                    $('#iqcCompleteEndDateHousing').val("");
                    $('#trialProductionStartDateHousing').val("");
                    $('#trialProductionEndDateHousing').val("");
                    $('#housingReliabilityStartDateHousing').val("");
                    $('#housingReliabilityEndtDateHousing').val("");
                    $('#housingMassProStartDateHousing').val("");
                    $('#housingMassProEndtDateHousing').val("");

                    $('#materialReceiveStartDateAssembly').val("");
                    $('#materialReceiveEndDateAssembly').val("");
                    $('#iqcCompleteStartDateAssembly').val("");
                    $('#iqcCompleteEndDateAssembly').val("");
                    $('#trialProductionStartDateAssembly').val("");
                    $('#trialProductionEndDateAssembly').val("");
                    $('#rnDConfirmStartDateAssembly').val("");
                    $('#rnDConfirmEndDateAssembly').val("");
                    $('#assembStartDateAssembly').val("");
                    $('#assembEndDateAssembly').val("");
                    hide1();
                });
            } ///end of if statement

            ///////////////////////

            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val(moment(materialReceiveStartDateAssembly).add(1, 'days').format("YYYY-MM-DD")));
            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());

            if (materialReceiveEndDateAssembly == "Invalid date") {
                var materialReceiveEndDateAssembly1 = $.trim($('#materialReceiveEndDateAssembly').val(""));
            }
            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());
            /////////Add extra days for holiday///////////
            var dCount13 = getHolidayCount(materialReceiveStartDateAssembly, materialReceiveEndDateAssembly);

            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val(moment(materialReceiveEndDateAssembly).add(dCount13, 'days').format("YYYY-MM-DD")));
            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());
            ///////////////////

            var mdAssembly2 = isHoliday(materialReceiveEndDateAssembly);
            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val(mdAssembly2));
            materialReceiveEndDateAssembly = $.trim($('#materialReceiveEndDateAssembly').val());
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetMaterialReceiveDateAssembly", "Production")',
                data: "{ materialReceiveStartDateAssembly: '" + materialReceiveStartDateAssembly
                    + "', materialReceiveEndDateAssembly: '" + materialReceiveEndDateAssembly
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Assembly Material Receiving in Inventory.",
                        }).show();

                        $('#materialReceiveStartDateSmt').val("");
                        $('#materialReceiveEndDateSmt').val("");
                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");
                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");
                        $('#massProductionStartDateSmt').val("");
                        $('#massProductionEndDateSmt').val("");

                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");
                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");
                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");
                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");
                        $('#housingMassProStartDateHousing').val("");
                        $('#housingMassProEndtDateHousing').val("");

                        $('#materialReceiveStartDateAssembly').val("");
                        $('#materialReceiveEndDateAssembly').val("");
                        $('#iqcCompleteStartDateAssembly').val("");
                        $('#iqcCompleteEndDateAssembly').val("");
                        $('#trialProductionStartDateAssembly').val("");
                        $('#trialProductionEndDateAssembly').val("");
                        $('#rnDConfirmStartDateAssembly').val("");
                        $('#rnDConfirmEndDateAssembly').val("");
                        $('#assembStartDateAssembly').val("");
                        $('#assembEndDateAssembly').val("");

                        return false;
                    }
                }
            });


            ///////////////////Assembly IQC/////////////////
            iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val(materialReceiveEndDateAssembly));
            console.log("iqcCompleteStartDateAssembly :" + iqcCompleteStartDateAssembly);
            iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val());

            if (iqcCompleteStartDateAssembly == "Invalid date") {
                var iqcCompleteStartDateAssembly1 = $.trim($('#iqcCompleteStartDateAssembly').val(""));
            }
            iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val());

            //holiday check//
            var iqcAssembly1 = isHoliday(iqcCompleteStartDateAssembly);
            iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val(iqcAssembly1));
            iqcCompleteStartDateAssembly = $.trim($('#iqcCompleteStartDateAssembly').val());
            /////////////////

            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val(moment(iqcCompleteStartDateAssembly).add(1, 'days').format("YYYY-MM-DD")));
            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());

            if (iqcCompleteEndDateAssembly == "Invalid date") {
                var iqcCompleteEndDateAssembly1 = $.trim($('#iqcCompleteEndDateAssembly').val(""));
            }
            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());
            /////////Add extra days for holiday///////////
            var dCount12 = getHolidayCount(iqcCompleteStartDateAssembly, iqcCompleteEndDateAssembly);

            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val(moment(iqcCompleteEndDateAssembly).add(dCount12, 'days').format("YYYY-MM-DD")));
            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());
            ///////////////////
            /////holiday check////
            var iqcAssembly2 = isHoliday(iqcCompleteEndDateAssembly);
            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val(iqcAssembly2));
            iqcCompleteEndDateAssembly = $.trim($('#iqcCompleteEndDateAssembly').val());
            //////////////////////

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetIqcCompleteDateAssembly", "Production")',
                data: "{ iqcCompleteStartDateAssembly: '" + iqcCompleteStartDateAssembly
                    + "', iqcCompleteEndDateAssembly: '" + iqcCompleteEndDateAssembly
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Assembly IQC Confirmation.",
                        }).show();

                        $('#materialReceiveStartDateSmt').val("");
                        $('#materialReceiveEndDateSmt').val("");
                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");
                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");
                        $('#massProductionStartDateSmt').val("");
                        $('#massProductionEndDateSmt').val("");

                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");
                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");
                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");
                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");
                        $('#housingMassProStartDateHousing').val("");
                        $('#housingMassProEndtDateHousing').val("");

                        $('#materialReceiveStartDateAssembly').val("");
                        $('#materialReceiveEndDateAssembly').val("");
                        $('#iqcCompleteStartDateAssembly').val("");
                        $('#iqcCompleteEndDateAssembly').val("");
                        $('#trialProductionStartDateAssembly').val("");
                        $('#trialProductionEndDateAssembly').val("");
                        $('#rnDConfirmStartDateAssembly').val("");
                        $('#rnDConfirmEndDateAssembly').val("");
                        $('#assembStartDateAssembly').val("");
                        $('#assembEndDateAssembly').val("");
                        return false;
                    }
                }
            });

            ////////////////Assembly Trial///////////////
            trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val(iqcCompleteStartDateAssembly));
            console.log("trialProductionStartDateAssembly :" + trialProductionStartDateAssembly);
            trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());

            if (trialProductionStartDateAssembly == "Invalid date") {
                var trialProductionStartDateAssembly1 = $.trim($('#trialProductionStartDateAssembly').val(""));
            }
            trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());

            /////holiday check////
            var trialAssembly1 = isHoliday(trialProductionStartDateAssembly);
            trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val(trialAssembly1));
            trialProductionStartDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());
            //////////////////////
            trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val(iqcCompleteStartDateAssembly));
            trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());

            if (trialProductionEndDateAssembly == "Invalid date") {
                var trialProductionEndDateAssembly1 = $.trim($('#trialProductionEndDateAssembly').val(""));
            }
            trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());
            ////////////////////
            var dCount11 = getHolidayCount(trialProductionStartDateAssembly, trialProductionEndDateAssembly);

            trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val(moment(trialProductionEndDateAssembly).add(dCount11, 'days').format("YYYY-MM-DD")));
            trialProductionEndDateAssembly = $.trim($('#trialProductionEndDateAssembly').val());
            ///////////////////
            /////holiday check////
            var trialAssembly2 = isHoliday(trialProductionEndDateAssembly);
            trialProductionEndDateAssembly = $.trim($('#trialProductionStartDateAssembly').val(trialAssembly2));
            trialProductionEndDateAssembly = $.trim($('#trialProductionStartDateAssembly').val());
            //////////////////////
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetTrialProductionDateAssembly", "Production")',
                data: "{ trialProductionStartDateAssembly: '" + trialProductionStartDateAssembly
                    + "', trialProductionEndDateAssembly: '" + trialProductionEndDateAssembly
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Assembly Trial Production.",
                        }).show();


                        $('#materialReceiveStartDateSmt').val("");
                        $('#materialReceiveEndDateSmt').val("");
                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");
                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");
                        $('#massProductionStartDateSmt').val("");
                        $('#massProductionEndDateSmt').val("");

                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");
                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");
                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");
                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");
                        $('#housingMassProStartDateHousing').val("");
                        $('#housingMassProEndtDateHousing').val("");

                        $('#materialReceiveStartDateAssembly').val("");
                        $('#materialReceiveEndDateAssembly').val("");
                        $('#iqcCompleteStartDateAssembly').val("");
                        $('#iqcCompleteEndDateAssembly').val("");
                        $('#trialProductionStartDateAssembly').val("");
                        $('#trialProductionEndDateAssembly').val("");
                        $('#rnDConfirmStartDateAssembly').val("");
                        $('#rnDConfirmEndDateAssembly').val("");
                        $('#assembStartDateAssembly').val("");
                        $('#assembEndDateAssembly').val("");

                        return false;
                    }
                }
            });
            /////////////Assembly RND///////////////
            rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val(moment(trialProductionStartDateAssembly).add(1, 'days').format("YYYY-MM-DD")));

            console.log("rnDConfirmStartDateAssembly :" + rnDConfirmStartDateAssembly);
            rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val());

            if (rnDConfirmStartDateAssembly == "Invalid date") {
                var rnDConfirmStartDateAssembly1 = $.trim($('#rnDConfirmStartDateAssembly').val(""));
            }
            rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val());

            /////holiday check////
            var rndAssembly1 = isHoliday(rnDConfirmStartDateAssembly);
            rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val(rndAssembly1));
            rnDConfirmStartDateAssembly = $.trim($('#rnDConfirmStartDateAssembly').val());
            //////////////////////
            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val(moment(rnDConfirmStartDateAssembly).add(4, 'days').format("YYYY-MM-DD")));
            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());

            if (rnDConfirmEndDateAssembly == "Invalid date") {
                var rnDConfirmEndDateAssembly1 = $.trim($('#rnDConfirmEndDateAssembly').val(""));
            }
            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());

            ////////////////////
            var dCount4 = getHolidayCount(rnDConfirmStartDateAssembly, rnDConfirmEndDateAssembly);

            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val(moment(rnDConfirmEndDateAssembly).add(dCount4, 'days').format("YYYY-MM-DD")));
            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());
            ///////////////////

            /////holiday check////
            var rndAssembly2 = isHoliday(rnDConfirmEndDateAssembly);
            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val(rndAssembly2));
            rnDConfirmEndDateAssembly = $.trim($('#rnDConfirmEndDateAssembly').val());
            //////////////////////


            //////////////Assembly///////////////////
            assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val(moment(rnDConfirmEndDateAssembly).add(1, 'days').format("YYYY-MM-DD")));

            console.log("assembStartDateAssembly :" + assembStartDateAssembly);
            assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());

            if (assembStartDateAssembly == "Invalid date") {
                var assembStartDateAssembly1 = $.trim($('#assembStartDateAssembly').val(""));
            }
            assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());


            /////holiday check////
            var assembly1 = isHoliday(assembStartDateAssembly);
            assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val(assembly1));
            assembStartDateAssembly = $.trim($('#assembStartDateAssembly').val());
            //////////////////////

            $.ajax({
                type: "POST",
                url: '@Url.Action("GetAssemblyProduction", "Production")',
                data: "{ assembStartDateAssembly: '" + assembStartDateAssembly
                    + "', assembEndDateAssembly: '" + assembStartDateAssembly
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log("data :" + data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    console.log(dataList);

                    if (dataList == "YES") {
                        alertify.dialog('alert').set({
                            'title': '   ',
                            'transition': 'zoom',
                            'message': "One Project is waiting for Assembly Production.",
                        }).show();

                        $('#materialReceiveStartDateSmt').val("");
                        $('#materialReceiveEndDateSmt').val("");
                        $('#iqcCompleteStartDateSmt').val("");
                        $('#iqcCompleteEndDateSmt').val("");
                        $('#trialProductionStartDateSmt').val("");
                        $('#trialProductionEndDateSmt').val("");
                        $('#massProductionStartDateSmt').val("");
                        $('#massProductionEndDateSmt').val("");

                        $('#materialReceiveStartDateHousing').val("");
                        $('#materialReceiveEndDateHousing').val("");
                        $('#iqcCompleteStartDateHousing').val("");
                        $('#iqcCompleteEndDateHousing').val("");
                        $('#trialProductionStartDateHousing').val("");
                        $('#trialProductionEndDateHousing').val("");
                        $('#housingReliabilityStartDateHousing').val("");
                        $('#housingReliabilityEndtDateHousing').val("");
                        $('#housingMassProStartDateHousing').val("");
                        $('#housingMassProEndtDateHousing').val("");

                        $('#materialReceiveStartDateAssembly').val("");
                        $('#materialReceiveEndDateAssembly').val("");
                        $('#iqcCompleteStartDateAssembly').val("");
                        $('#iqcCompleteEndDateAssembly').val("");
                        $('#trialProductionStartDateAssembly').val("");
                        $('#trialProductionEndDateAssembly').val("");
                        $('#rnDConfirmStartDateAssembly').val("");
                        $('#rnDConfirmEndDateAssembly').val("");
                        $('#assembStartDateAssembly').val("");
                        $('#assembEndDateAssembly').val("");

                        return false;
                    }
                }
            });


            //////////////////Housing///////////////
            //$("#housingChkId").on('change', function () {
            //    if ($(this).is(':checked')) {
            //        $(this).attr('value', 'true');
            //    }
            //    //else {
            //    //    $(this).attr('value', 'false');
            //    //}

            //    houseChk = $('#housingChkId').val();
            //    console.log("houseChk :" + houseChk);
            //});
            if ($("#housingChkId").is(':checked')) {
                $("#housingChkId").attr('value', 'true');
                $("#housingChkId").prop("checked", true);
            } else {
                $("#housingChkId").attr('value', 'false');
                $("#housingChkId").prop("checked", false);
            }
            houseChk = $('#housingChkId').val();
            console.log("houseChk :" + houseChk);
            
            if (houseChk == "true") {
                /////////////////Housing Reliability///////////
                housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val(materialReceiveEndDateAssembly));
                housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val());

                if (housingReliabilityStartDateHousing == "Invalid date") {
                    var housingReliabilityStartDateHousing1 = $.trim($('#housingReliabilityStartDateHousing').val(""));
                }
                housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val());


                /////holiday check////
                var housingRelia1 = isHoliday(housingReliabilityStartDateHousing);
                housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val(housingRelia1));
                housingReliabilityStartDateHousing = $.trim($('#housingReliabilityStartDateHousing').val());
                //////////////////////

                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(materialReceiveEndDateAssembly).add(1, 'days').format("YYYY-MM-DD")));
                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

                if (housingReliabilityEndtDateHousing == "Invalid date") {
                    var housingReliabilityEndtDateHousing1 = $.trim($('#housingReliabilityEndtDateHousing').val(""));
                }
                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());

                ////////////////////
                var dCount10 = getHolidayCount(housingReliabilityStartDateHousing, housingReliabilityEndtDateHousing);

                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(moment(housingReliabilityEndtDateHousing).add(dCount10, 'days').format("YYYY-MM-DD")));
                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());
                ///////////////////
                /////holiday check////
                var housingRelia2 = isHoliday(housingReliabilityEndtDateHousing);
                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val(housingRelia2));
                housingReliabilityEndtDateHousing = $.trim($('#housingReliabilityEndtDateHousing').val());
                //////////////////////

                /////////////////Housing Trial/////////////
                trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val(materialReceiveStartDateAssembly));
                trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());
                if (trialProductionStartDateHousing == "Invalid date") {
                    var trialProductionStartDateHousing1 = $.trim($('#trialProductionStartDateHousing').val(""));
                }
                trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());

                /////holiday check////
                var housingTrial1 = isHoliday(trialProductionStartDateHousing);
                trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val(housingTrial1));
                trialProductionStartDateHousing = $.trim($('#trialProductionStartDateHousing').val());
                //////////////////////

                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(materialReceiveStartDateAssembly));
                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());

                if (trialProductionEndDateHousing == "Invalid date") {
                    var trialProductionEndDateHousing1 = $.trim($('#trialProductionEndDateHousing').val(""));
                }
                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());
                ////////////////////
                var dCount9 = getHolidayCount(trialProductionStartDateHousing, trialProductionEndDateHousing);

                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(moment(trialProductionEndDateHousing).add(dCount9, 'days').format("YYYY-MM-DD")));
                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());
                ///////////////////
                /////holiday check////
                var housingTrial2 = isHoliday(trialProductionEndDateHousing);
                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val(housingTrial2));
                trialProductionEndDateHousing = $.trim($('#trialProductionEndDateHousing').val());
                //////////////////////

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTrialProductionDateHousing", "Production")',
                    data: "{ trialProductionStartDateHousing: '" + trialProductionStartDateHousing
                        + "', trialProductionEndDateHousing: '" + trialProductionEndDateHousing
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for Housing Trial Production.",
                            }).show();
                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");

                            return false;
                        }
                    }
                });
                ///////////////Housing IQC////////////////////

                iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val(trialProductionStartDateHousing));
                console.log("iqcCompleteStartDateHousing :" + iqcCompleteStartDateHousing);
                iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val());

                if (iqcCompleteStartDateHousing == "Invalid date") {
                    var iqcCompleteStartDateHousing1 = $.trim($('#iqcCompleteStartDateHousing').val(""));
                }
                iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val());
                /////holiday check////
                var housingIqc1 = isHoliday(iqcCompleteStartDateHousing);
                iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val(housingIqc1));
                iqcCompleteStartDateHousing = $.trim($('#iqcCompleteStartDateHousing').val());

                ////////////////////////////////
                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(trialProductionStartDateHousing).add(1, 'days').format("YYYY-MM-DD")));
                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());

                if (iqcCompleteEndDateHousing == "Invalid date") {
                    var iqcCompleteEndDateHousing1 = $.trim($('#iqcCompleteEndDateHousing').val(""));
                }
                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
                ////////////////////
                var dCount8 = getHolidayCount(iqcCompleteStartDateHousing, iqcCompleteEndDateHousing);

                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(moment(iqcCompleteEndDateHousing).add(dCount8, 'days').format("YYYY-MM-DD")));
                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
                ///////////////////
                /////holiday check////
                var housingIqc2 = isHoliday(iqcCompleteEndDateHousing);
                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val(housingIqc2));
                iqcCompleteEndDateHousing = $.trim($('#iqcCompleteEndDateHousing').val());
                //////////////////////

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetIqcCompleteDateHousing", "Production")',
                    data: "{ iqcCompleteStartDateHousing: '" + iqcCompleteStartDateHousing
                        + "', iqcCompleteEndDateHousing: '" + iqcCompleteEndDateHousing
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for Housing IQC Confirmation.",
                            }).show();


                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");

                            return false;
                        }
                    }
                });
                ///////////////Housing Material////////////////////

                materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val(moment(iqcCompleteStartDateHousing).add(-1, 'days').format("YYYY-MM-DD")));
                console.log("materialReceiveStartDateHousing :" + materialReceiveStartDateHousing);
                materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());

                if (materialReceiveStartDateHousing == "Invalid date") {
                    var materialReceiveStartDateHousing1 = $.trim($('#materialReceiveStartDateHousing').val(""));
                }
                materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());

                /////holiday check////
                var housingMaterial1 = isHolidayPreviousDate(materialReceiveStartDateHousing);
                materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val(housingMaterial1));
                materialReceiveStartDateHousing = $.trim($('#materialReceiveStartDateHousing').val());
                //////////////////////

                materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val(materialReceiveStartDateHousing));
                materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());

                if (materialReceiveEndDateHousing == "Invalid date") {
                    var materialReceiveEndDateHousing1 = $.trim($('#materialReceiveEndDateHousing').val(""));
                }
                materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());

                ////////////////////
                var dCount21 = getHolidayCount(materialReceiveStartDateHousing, materialReceiveEndDateHousing);

                materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val(moment(materialReceiveEndDateHousing).add(dCount21, 'days').format("YYYY-MM-DD")));
                materialReceiveEndDateHousing = $.trim($('#materialReceiveEndDateHousing').val());
                ///////////////////

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetMaterialReceiveDateHousing", "Production")',
                    data: "{ materialReceiveStartDateHousing: '" + materialReceiveStartDateHousing
                        + "', materialReceiveEndDateHousing: '" + materialReceiveEndDateHousing
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for Housing Material Receiving.",
                            }).show();

                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");
                            return false;
                        }
                    }
                });
                ///////////////Housing Mass production///////////
                housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val(rnDConfirmEndDateAssembly));

                console.log("housingMassProStartDateHousing :" + housingMassProStartDateHousing);
                housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());

                if (housingMassProStartDateHousing == "Invalid date") {
                    var housingMassProStartDateHousing1 = $.trim($('#housingMassProStartDateHousing').val(""));
                }
                housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());

                /////holiday check////
                var housingMassPro1 = isHoliday(housingMassProStartDateHousing);
                housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val(housingMassPro1));
                housingMassProStartDateHousing = $.trim($('#housingMassProStartDateHousing').val());
                //////////////////////

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetHousingMassProduction", "Production")',
                    data: "{ housingMassProStartDateHousing: '" + housingMassProStartDateHousing
                        + "', housingMassProEndtDateHousing: '" + housingMassProStartDateHousing
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for Housing Mass Production.",
                            }).show();

                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");
                            return false;
                        }
                    }
                });
            } else if (houseChk == "false") {
                $('#materialReceiveStartDateHousing').val("");
                $('#materialReceiveEndDateHousing').val("");
                $('#iqcCompleteStartDateHousing').val("");
                $('#iqcCompleteEndDateHousing').val("");
                $('#trialProductionStartDateHousing').val("");
                $('#trialProductionEndDateHousing').val("");
                $('#housingReliabilityStartDateHousing').val("");
                $('#housingReliabilityEndtDateHousing').val("");
                $('#housingMassProStartDateHousing').val("");
                $('#housingMassProEndtDateHousing').val("");

                $('#materialReceiveStartDateHousing').attr("disabled", true);
                $('#materialReceiveEndDateHousing').attr("disabled", true);
                $('#iqcCompleteStartDateHousing').attr("disabled", true);
                $('#iqcCompleteEndDateHousing').attr("disabled", true);
                $('#trialProductionStartDateHousing').attr("disabled", true);
                $('#trialProductionEndDateHousing').attr("disabled", true);
                $('#housingReliabilityStartDateHousing').attr("disabled", true);
                $('#housingReliabilityEndtDateHousing').attr("disabled", true);
                $('#housingMassProStartDateHousing').attr("disabled", true);
                $('#housingMassProEndtDateHousing').attr("disabled", true);

                $('#chargerHousing_TotalQuantity').attr("disabled", true);
                $('#chargerHousing_PerDayCapacity').attr("disabled", true);
                document.getElementById("housingMassLineInfo_chosen").disabled = true;
            }

            //$("#smtChkId").on('change', function () {
            //    if ($(this).is(':checked')) {
            //        $(this).attr('value', 'true');
            //        $('#materialReceiveStartDateSmt').attr("disabled", true);
            //        $('#materialReceiveEndDateSmt').attr("disabled", true);
            //        $('#iqcCompleteStartDateSmt').attr("disabled", true);
            //        $('#iqcCompleteEndDateSmt').attr("disabled", true);
            //        $('#trialProductionStartDateSmt').attr("disabled", true);
            //        $('#trialProductionEndDateSmt').attr("disabled", true);
            //        $('#massProductionStartDateSmt').attr("disabled", true);
            //        $('#massProductionEndDateSmt').attr("disabled", true);

            //        $('#chargerSmt_TotalQuantity').attr("disabled", true);
            //        $('#chargerSmt_PerDayCapacity').attr("disabled", true);
            //        document.getElementById("smtMassLineInfo_chosen").disabled = true;


            //        $('#materialReceiveStartDateSmt').val("");
            //        $('#materialReceiveEndDateSmt').val("");
            //        $('#iqcCompleteStartDateSmt').val("");
            //        $('#iqcCompleteEndDateSmt').val("");
            //        $('#trialProductionStartDateSmt').val("");
            //        $('#trialProductionEndDateSmt').val("");
            //        $('#massProductionStartDateSmt').val("");
            //        $('#massProductionEndDateSmt').val("");
            //        $('#chargerSmt_TotalQuantity').val("");
            //        $('#chargerSmt_PerDayCapacity').val("");
            //        $('#smtMassLineInfo').val("");
            //    } else {
            //        $(this).attr('value', 'false');
            //    }

            //    smtChk = $('#smtChkId').val();
            //    console.log("smtChk :" + smtChk);
            //});
            if ($("#smtChkId").is(':checked')) {
                $("#smtChkId").attr('value', 'true');
                $("#smtChkId").prop("checked", true);
            } else {
                $("#smtChkId").attr('value', 'false');
                $("#smtChkId").prop("checked", false);
            }
            smtChk = $('#smtChkId').val();
            console.log("smtChk :" + smtChk);
            
            if (smtChk == "true") {
                ///////////////SMT mass production////////////
                massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val(rnDConfirmEndDateAssembly));

                console.log("massProductionStartDateSmt :" + massProductionStartDateSmt);
                massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());

                if (massProductionStartDateSmt == "Invalid date") {
                    var massProductionStartDateSmt1 = $.trim($('#massProductionStartDateSmt').val(""));
                }
                massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());

                /////holiday check////
                var smtMassPro1 = isHoliday(massProductionStartDateSmt);
                massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val(smtMassPro1));
                massProductionStartDateSmt = $.trim($('#massProductionStartDateSmt').val());
                //////////////////////

                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetMassProductionDateForSmt", "Production")',
                    data: "{ massProductionStartDateSmt: '" + massProductionStartDateSmt
                        + "', massProductionEndDateSmt: '" + massProductionStartDateSmt
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for SMT mass Production.",
                            }).show();

                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");

                            return false;
                        }
                    }
                });
                ///////SMT trial Production///////////

                trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val(materialReceiveStartDateAssembly));
                console.log("trialProductionStartDateSmt :" + trialProductionStartDateSmt);
                trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());

                if (trialProductionStartDateSmt == "Invalid date") {
                    var trialProductionStartDateSmt1 = $.trim($('#trialProductionStartDateSmt').val(""));
                }
                trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());

                /////holiday check////
                var smtTrial1 = isHoliday(trialProductionStartDateSmt);
                trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val(smtTrial1));
                trialProductionStartDateSmt = $.trim($('#trialProductionStartDateSmt').val());
                //////////////////////
                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(materialReceiveStartDateAssembly));
                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());

                if (trialProductionEndDateSmt == "Invalid date") {
                    var trialProductionEndDateSmt1 = $.trim($('#trialProductionEndDateSmt').val(""));
                }
                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());

                ////////////////////
                var dCount7 = getHolidayCount(trialProductionStartDateSmt, trialProductionEndDateSmt);

                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(moment(trialProductionEndDateSmt).add(dCount7, 'days').format("YYYY-MM-DD")));
                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());
                ///////////////////
                /////holiday check////
                var smtTrial2 = isHoliday(trialProductionEndDateSmt);
                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val(smtTrial2));
                trialProductionEndDateSmt = $.trim($('#trialProductionEndDateSmt').val());
                //////////////////////
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetTrialProductionDateForSmt", "Production")',
                    data: "{ trialProductionStartDateSmt: '" + trialProductionStartDateSmt
                        + "', trialProductionEndDateSmt: '" + trialProductionEndDateSmt
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for SMT Trial Production.",
                            }).show();

                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");
                            return false;
                        }
                    }
                });

                ///////SMT IQC test///////////

                iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val(materialReceiveStartDateAssembly));
                console.log("iqcCompleteStartDateSmt :" + iqcCompleteStartDateSmt);
                iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val());

                if (iqcCompleteStartDateSmt == "Invalid date") {
                    var iqcCompleteStartDateSmt1 = $.trim($('#iqcCompleteStartDateSmt').val(""));
                }
                iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val());
                /////holiday check////
                var smtIqc1 = isHoliday(iqcCompleteStartDateSmt);
                iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val(smtIqc1));
                iqcCompleteStartDateSmt = $.trim($('#iqcCompleteStartDateSmt').val());
                //////////////////////
                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(materialReceiveEndDateAssembly));
                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

                if (iqcCompleteEndDateSmt == "Invalid date") {
                    var iqcCompleteEndDateSmt1 = $.trim($('#iqcCompleteEndDateSmt').val(""));
                }
                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());

                ////////////////////
                var dCount6 = getHolidayCount(iqcCompleteStartDateSmt, iqcCompleteEndDateSmt);

                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(moment(iqcCompleteEndDateSmt).add(dCount6, 'days').format("YYYY-MM-DD")));
                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());
                ///////////////////

                /////holiday check////
                var smtIqc2 = isHoliday(iqcCompleteEndDateSmt);
                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val(smtIqc2));
                iqcCompleteEndDateSmt = $.trim($('#iqcCompleteEndDateSmt').val());
                //////////////////////
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetIqcCompleteForSmt", "Production")',
                    data: "{ iqcCompleteStartDateSmt: '" + iqcCompleteStartDateSmt
                        + "', iqcCompleteEndDateSmt: '" + iqcCompleteEndDateSmt
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for SMT IQC confirmation.",
                            }).show();

                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");
                            return false;
                        }
                    }
                });

                ///////SMT Material Receive///////////

                materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val(moment(materialReceiveStartDateAssembly).add(-1, 'days').format("YYYY-MM-DD")));
                console.log("materialReceiveStartDateSmt :" + materialReceiveStartDateSmt);
                materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val());

                if (materialReceiveStartDateSmt == "Invalid date") {
                    var materialReceiveStartDateSmt1 = $.trim($('#materialReceiveStartDateSmt').val(""));
                }
                materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val());
                /////holiday check////
                var smtMaterial1 = isHoliday(materialReceiveStartDateSmt);
                materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val(smtMaterial1));
                materialReceiveStartDateSmt = $.trim($('#materialReceiveStartDateSmt').val());
                //////////////////////
                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(materialReceiveStartDateAssembly));
                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());

                if (materialReceiveEndDateSmt == "Invalid date") {
                    var materialReceiveEndDateSmt1 = $.trim($('#materialReceiveEndDateSmt').val(""));
                }
                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());
                ////////////////////
                var dCount5 = getHolidayCount(materialReceiveStartDateSmt, materialReceiveEndDateSmt);

                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(moment(materialReceiveEndDateSmt).add(dCount5, 'days').format("YYYY-MM-DD")));
                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());
                ///////////////////
                /////holiday check////
                var smtMaterial2 = isHoliday(materialReceiveEndDateSmt);
                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val(smtMaterial2));
                materialReceiveEndDateSmt = $.trim($('#materialReceiveEndDateSmt').val());
                //////////////////////
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("GetMaterialReceiveForSmt", "Production")',
                    data: "{ materialReceiveStartDateSmt: '" + materialReceiveStartDateSmt
                        + "', materialReceiveEndDateSmt: '" + materialReceiveEndDateSmt
                        + "'}",
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    async: false,
                    success: function (data) {

                        console.log("data :" + data);
                        var dataList = [];
                        for (var x in data) {
                            dataList = data[x];
                        }
                        console.log(dataList);

                        if (dataList == "YES") {
                            alertify.dialog('alert').set({
                                'title': '   ',
                                'transition': 'zoom',
                                'message': "One Project is waiting for SMT IQC confirmation.",
                            }).show();

                            $('#materialReceiveStartDateSmt').val("");
                            $('#materialReceiveEndDateSmt').val("");
                            $('#iqcCompleteStartDateSmt').val("");
                            $('#iqcCompleteEndDateSmt').val("");
                            $('#trialProductionStartDateSmt').val("");
                            $('#trialProductionEndDateSmt').val("");
                            $('#massProductionStartDateSmt').val("");
                            $('#massProductionEndDateSmt').val("");

                            $('#materialReceiveStartDateHousing').val("");
                            $('#materialReceiveEndDateHousing').val("");
                            $('#iqcCompleteStartDateHousing').val("");
                            $('#iqcCompleteEndDateHousing').val("");
                            $('#trialProductionStartDateHousing').val("");
                            $('#trialProductionEndDateHousing').val("");
                            $('#housingReliabilityStartDateHousing').val("");
                            $('#housingReliabilityEndtDateHousing').val("");
                            $('#housingMassProStartDateHousing').val("");
                            $('#housingMassProEndtDateHousing').val("");

                            $('#materialReceiveStartDateAssembly').val("");
                            $('#materialReceiveEndDateAssembly').val("");
                            $('#iqcCompleteStartDateAssembly').val("");
                            $('#iqcCompleteEndDateAssembly').val("");
                            $('#trialProductionStartDateAssembly').val("");
                            $('#trialProductionEndDateAssembly').val("");
                            $('#rnDConfirmStartDateAssembly').val("");
                            $('#rnDConfirmEndDateAssembly').val("");
                            $('#assembStartDateAssembly').val("");
                            $('#assembEndDateAssembly').val("");
                            return false;
                        }

                    }
                });
            }
            else if (smtChk == "false") {
                $('#materialReceiveStartDateSmt').attr("disabled", true);
                $('#materialReceiveEndDateSmt').attr("disabled", true);
                $('#iqcCompleteStartDateSmt').attr("disabled", true);
                $('#iqcCompleteEndDateSmt').attr("disabled", true);
                $('#trialProductionStartDateSmt').attr("disabled", true);
                $('#trialProductionEndDateSmt').attr("disabled", true);
                $('#massProductionStartDateSmt').attr("disabled", true);
                $('#massProductionEndDateSmt').attr("disabled", true);

                $('#chargerSmt_TotalQuantity').attr("disabled", true);
                $('#chargerSmt_PerDayCapacity').attr("disabled", true);
                document.getElementById("smtMassLineInfo_chosen").disabled = true;


                $('#materialReceiveStartDateSmt').val("");
                $('#materialReceiveEndDateSmt').val("");
                $('#iqcCompleteStartDateSmt').val("");
                $('#iqcCompleteEndDateSmt').val("");
                $('#trialProductionStartDateSmt').val("");
                $('#trialProductionEndDateSmt').val("");
                $('#massProductionStartDateSmt').val("");
                $('#massProductionEndDateSmt').val("");
            }


        }
        //  $('#draggable').modal('hide');
        hide1();
    }
    $(document).ready(function () {
        $("#smtChkId").on('change', function () {
            if ($(this).is(':checked')) {
                $(this).attr('value', 'true');


                $('#massProductionStartDateSmt').attr("disabled", false);
                $('#massProductionEndDateSmt').attr("disabled", true);

                $('#chargerSmt_TotalQuantity').attr("disabled", false);
                $('#chargerSmt_PerDayCapacity').attr("disabled", false);
                document.getElementById("smtMassLineInfo_chosen").disabled = false;

            } else {
                $(this).attr('value', 'false');
                $('#materialReceiveStartDateSmt').attr("disabled", true);
                $('#materialReceiveEndDateSmt').attr("disabled", true);
                $('#iqcCompleteStartDateSmt').attr("disabled", true);
                $('#iqcCompleteEndDateSmt').attr("disabled", true);
                $('#trialProductionStartDateSmt').attr("disabled", true);
                $('#trialProductionEndDateSmt').attr("disabled", true);
                $('#massProductionStartDateSmt').attr("disabled", true);
                $('#massProductionEndDateSmt').attr("disabled", true);

                $('#chargerSmt_TotalQuantity').attr("disabled", true);
                $('#chargerSmt_PerDayCapacity').attr("disabled", true);
                document.getElementById("smtMassLineInfo_chosen").disabled = true;

                //$("#smtAllLineInformation tbody.smAllLineTBody").empty();
                //$('#materialReceiveStartDateSmt').val("");
                //$('#materialReceiveEndDateSmt').val("");
                //$('#iqcCompleteStartDateSmt').val("");
                //$('#iqcCompleteEndDateSmt').val("");
                //$('#trialProductionStartDateSmt').val("");
                //$('#trialProductionEndDateSmt').val("");
                //$('#massProductionStartDateSmt').val("");
                //$('#massProductionEndDateSmt').val("");
                //$('#chargerSmt_TotalQuantity').val("");
                //$('#chargerSmt_PerDayCapacity').val("");
                //$('#smtMassLineInfo').val("");
            }
            smtChk = $('#smtChkId').val();
            console.log("smtChk :" + smtChk);
        });


        $("#housingChkId").on('change', function () {
            if ($(this).is(':checked')) {
                $(this).attr('value', 'true');

                $('#housingMassProStartDateHousing').attr("disabled", false);
                $('#housingMassProEndtDateHousing').attr("disabled", true);

                $('#chargerHousing_TotalQuantity').attr("disabled", false);
                $('#chargerHousing_PerDayCapacity').attr("disabled", false);
                document.getElementById("housingMassLineInfo_chosen").disabled = false;
            }
            else {
                $(this).attr('value', 'false');


                $('#materialReceiveStartDateHousing').attr("disabled", true);
                $('#materialReceiveEndDateHousing').attr("disabled", true);
                $('#iqcCompleteStartDateHousing').attr("disabled", true);
                $('#iqcCompleteEndDateHousing').attr("disabled", true);
                $('#trialProductionStartDateHousing').attr("disabled", true);
                $('#trialProductionEndDateHousing').attr("disabled", true);
                $('#housingReliabilityStartDateHousing').attr("disabled", true);
                $('#housingReliabilityEndtDateHousing').attr("disabled", true);
                $('#housingMassProStartDateHousing').attr("disabled", true);
                $('#housingMassProEndtDateHousing').attr("disabled", true);

                $('#chargerHousing_TotalQuantity').attr("disabled", true);
                $('#chargerHousing_PerDayCapacity').attr("disabled", true);
                document.getElementById("housingMassLineInfo_chosen").disabled = true;

                //$('#materialReceiveStartDateHousing').val("");
                //$('#materialReceiveEndDateHousing').val("");
                //$('#iqcCompleteStartDateHousing').val("");
                //$('#iqcCompleteEndDateHousing').val("");
                //$('#trialProductionStartDateHousing').val("");
                //$('#trialProductionEndDateHousing').val("");
                //$('#housingReliabilityStartDateHousing').val("");
                //$('#housingReliabilityEndtDateHousing').val("");
                //$('#housingMassProStartDateHousing').val("");
                //$('#housingMassProEndtDateHousing').val("");
            }

            houseChk = $('#housingChkId').val();
            console.log("houseChk :" + houseChk);
        });

        $("#assemblyChkId").on('change', function () {
            if ($(this).is(':checked')) {
                $(this).attr('value', 'true');

                $('#materialReceiveStartDateAssembly').attr("disabled", false);
                $('#assembStartDateAssembly').attr("disabled", false);
                $('#assembEndDateAssembly').attr("disabled", true);

                $('#chargerAssembly_TotalQuantity').attr("disabled", false);
                $('#chargerAssembly_PerDayCapacity').attr("disabled", false);
                document.getElementById("assemblyMassLineInfo_chosen").disabled = false;

            }
            else {
                $(this).attr('value', 'false');

                $('#materialReceiveStartDateAssembly').attr("disabled", true);
                $('#materialReceiveEndDateAssembly').attr("disabled", true);
                $('#iqcCompleteStartDateAssembly').attr("disabled", true);
                $('#iqcCompleteEndDateAssembly').attr("disabled", true);
                $('#trialProductionStartDateAssembly').attr("disabled", true);
                $('#trialProductionEndDateAssembly').attr("disabled", true);
                $('#rnDConfirmStartDateAssembly').attr("disabled", true);
                $('#rnDConfirmEndDateAssembly').attr("disabled", true);
                $('#assembStartDateAssembly').attr("disabled", true);
                $('#assembEndDateAssembly').attr("disabled", true);

                $('#chargerAssembly_TotalQuantity').attr("disabled", true);
                $('#chargerAssembly_PerDayCapacity').attr("disabled", true);
                document.getElementById("assemblyMassLineInfo_chosen").disabled = true;

                //$('#materialReceiveStartDateAssembly').val("");
                //$('#materialReceiveEndDateAssembly').val("");
                //$('#iqcCompleteStartDateAssembly').val("");
                //$('#iqcCompleteEndDateAssembly').val("");
                //$('#trialProductionStartDateAssembly').val("");
                //$('#trialProductionEndDateAssembly').val("");
                //$('#rnDConfirmStartDateAssembly').val("");
                //$('#rnDConfirmEndDateAssembly').val("");
                //$('#assembStartDateAssembly').val("");
                //$('#assembEndDateAssembly').val("");
            }

            assemblyChk = $('#assemblyChkId').val();
            console.log("assemblyChk :" + assemblyChk);
        });

    });


    $('#smtMassLineInfo').chosen({
        disable_search_threshold: 10,
        no_results_text: "Oops, nothing found!",
        // placeholder: "SELECT LINE",
        width: "66%",
    });
    $('#housingMassLineInfo').chosen({
        disable_search_threshold: 10,
        no_results_text: "Oops, nothing found!",
        // placeholder: "SELECT LINE",
        width: "66%",
    });
    $('#assemblyMassLineInfo').chosen({
        disable_search_threshold: 10,
        no_results_text: "Oops, nothing found!",
        // placeholder: "SELECT LINE",
        width: "66%",
    });
    $('.chosen').trigger('chosen:updated');
    $('#dropForProject').chosen({
        disable_search_threshold: 10,
        no_results_text: "Oops, nothing found!",
        width: "95%"
        //placeholder: "SELECT LINE",
        //width: "10%"
    });
    $("#dropForProject").trigger("chosen:updated");

    ////////////Charger Report/////////////
    var today = new Date();
    var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();

    //var startDate = moment(date).add(-46, 'days'); //YYYY-MM-DD
    //var endDate = moment(date).add(46, 'days'); //YYYY-MM-DD
    var startDate = moment(date).add(-40, 'days'); //YYYY-MM-DD
    var endDate = moment(date).add(60, 'days'); //YYYY-MM-DD
    var getDateArray = function (start, end) {
        var arr = new Array();
        var dt = new Date(start);
        while (dt <= end) {
            arr.push(new Date(dt));
            dt.setDate(dt.getDate() + 1);

        }
        return arr;

    };

    var dateArr = getDateArray(startDate, endDate);
    var dateArr1 = [];
    for (var i = 1; i < dateArr.length; i++) {

        dateArr1.push(moment(dateArr[i]).format('YYYY-MM-DD'));

    }
    var dateArr2 = JSON.stringify(dateArr1);
    $.ajax({
        url: '@Url.Action("GetChargerGrandChartData", "Production")',//'/ProjectManager/GetProject',
        type: "GET",
        dataType: "JSON",
        data: { dateArr2: dateArr2 },
        success: function (data) {

            console.log(data);
            var ll = data.length;
            console.log(ll);
            var dataList = [];

            for (var x in data) {
                dataList = data[x];
            }

            var l = dataList.length;

            for (var ii = 0; ii < l; ii++) {
                // var productionDate = moment(dataList[ii].ProductionDate).format('DD-MMM-YYYY');
                var productionDate = moment(dataList[ii].ProductionDate).format('YYYY-MM-DD');

                if (dataList[ii].MetarialReceiveSmt == null) {
                    dataList[ii].MetarialReceiveSmt = "";
                }
                if (dataList[ii].IqcCompleteSmt == null) {
                    dataList[ii].IqcCompleteSmt = "";
                }
                if (dataList[ii].TrialProductionSmt == null) {
                    dataList[ii].TrialProductionSmt = "";
                }

                if (dataList[ii].SmtMassProduction == null) {
                    dataList[ii].SmtMassProduction = "";
                }

                if (dataList[ii].MetarialReceiveHousing == null) {
                    dataList[ii].MetarialReceiveHousing = "";
                }

                if (dataList[ii].IqcCompleteHousing == null) {
                    dataList[ii].IqcCompleteHousing = "";
                }

                if (dataList[ii].TrialProductionHousing == null) {
                    dataList[ii].TrialProductionHousing = "";
                }

                if (dataList[ii].HousingReliability == null) {
                    dataList[ii].HousingReliability = "";
                }

                if (dataList[ii].HousingMassProduction == null) {
                    dataList[ii].HousingMassProduction = "";
                }
                if (dataList[ii].MetarialReceiveAssembly == null) {
                    dataList[ii].MetarialReceiveAssembly = "";
                }

                if (dataList[ii].IqcCompleteAssembly == null) {
                    dataList[ii].IqcCompleteAssembly = "";
                }


                if (dataList[ii].TrialProductionAssembly == null) {
                    dataList[ii].TrialProductionAssembly = "";
                }


                if (dataList[ii].RnDConfirmAssembly == null) {
                    dataList[ii].RnDConfirmAssembly = "";
                }


                if (dataList[ii].AssemblyDate == null) {
                    dataList[ii].AssemblyDate = "";
                }

                var body = '<tr>';
                body += '<td class="proDates"><span>' + productionDate + '</span></td>';

                body += '<td>' + '<p style="background-color:#F9B87C;color:black;font-weight:bold;">' + dataList[ii].MetarialReceiveSmt + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#FBF308;color:black;font-weight:bold;">' + dataList[ii].IqcCompleteSmt + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#D3D4C7;color:black;font-weight:bold;">' + dataList[ii].TrialProductionSmt + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#FEDD0C;color:black;font-weight:bold;">' + dataList[ii].SmtMassProduction + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#F9B87C;color:black;font-weight:bold;">' + dataList[ii].MetarialReceiveHousing + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#FBF308;color:black;font-weight:bold;">' + dataList[ii].IqcCompleteHousing + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#D3D4C7;color:black;font-weight:bold;">' + dataList[ii].TrialProductionHousing + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#D2E6B1;color:black;font-weight:bold;">' + dataList[ii].HousingReliability + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#F6D403;color:black;font-weight:bold;">' + dataList[ii].HousingMassProduction + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#F9B87C;color:black;font-weight:bold;">' + dataList[ii].MetarialReceiveAssembly + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#FBF308;color:black;font-weight:bold;">' + dataList[ii].IqcCompleteAssembly + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#D3D4C7;color:black;font-weight:bold;">' + dataList[ii].TrialProductionAssembly + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#DBEFBA;color:black;font-weight:bold;">' + dataList[ii].RnDConfirmAssembly + '</p>' + '</td>';

                body += '<td>' + '<p style="background-color:#FAD70B;color:black;font-weight:bold;">' + dataList[ii].AssemblyDate + '</p>' + '</td>';

                //body += '<td class="proRemarks" style="color:#FF6600;"><span>' + dataList[ii].ProductionRemarks + '</span><input type="text" class="form-control remarks form-control" id="remarks" value="' + dataList[ii].ProductionRemarks + '" style="display:none;" /></td>';
                //body += '<td> <input type="button" class="btn btn-danger btn-sm mt-ladda-btn ladda-button btn-circle saveBtnForPro" id="saveBtnForPro" value="SAVE" /><br/><br/><input type="button" class="btn btn-success btn-sm mt-ladda-btn ladda-button btn-circle editBtnForPro" id="editBtnForPro" value="EDIT" /></td>';
                body += '</tr>';

                $("#proChargerPlanTable tbody").append(body);

            }
            $("#proChargerPlanTable").DataTable();
        }

    });

    ////////////Charger Report/////////////
    $('.datepicker').datepicker({
        defaultDate: 'now',
        format: 'yyyy-mm-dd',
        autoclose: 1,
        //  todayHighlight: true,
    });



    $('#btnForSearch').on('click', function () {
        //   e.preventDefault();
        //$("#divSearchedvalue tbody.tBodyForCharger").clear();
        /// refresh();

        var proSelectId = document.getElementById('dropForProject');

        console.log(proSelectId);
        var selecteddropText = proSelectId.options[proSelectId.selectedIndex].text;
        var selecteddropValue = proSelectId.options[proSelectId.selectedIndex].value;
        console.log("proname " + selecteddropText);
        console.log("proId " + selecteddropValue);

        if (selecteddropText == "SELECT PROJECT") {
            // alert("Please select Project must..........");
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Please select Project must.",
            }).show();
            return false;
            $('#divSearchedvalue').hide();

            return false;
        }
        else {
            $('#divSearchedvalue').show();

            var smtProName = $('#smtProName').text(selecteddropValue);
            var smtProName1 = $('#smtProName').val(selecteddropText);

            var housingProName1 = $('#housingProName').text(selecteddropValue);
            var housingProName = $('#housingProName').val(selecteddropText);

            var assemblyProName = $('#assemblyProName').text(selecteddropValue);
            var assemblyProName1 = $('#assemblyProName').val(selecteddropText);


            if ($("#smtChkId").is(':checked')) {
                $("#smtChkId").attr('value', 'true');
                $("#smtChkId").prop("checked", true);
            } else {
                $("#smtChkId").attr('value', 'false');
                $("#smtChkId").prop("checked", false);
            }
            smtChk = $('#smtChkId').val();
            console.log("smtChk :" + smtChk);
            //////////////////////////////////////
            if ($("#housingChkId").is(':checked')) {
                $("#housingChkId").attr('value', 'true');
                $("#housingChkId").prop("checked", true);
            } else {
                $("#housingChkId").attr('value', 'false');
                $("#housingChkId").prop("checked", false);
            }
            houseChk = $('#housingChkId').val();
            console.log("houseChk :" + houseChk);
           
            ///////////////////////////////////
            if ($("#assemblyChkId").is(':checked')) {
                $("#assemblyChkId").attr('value', 'true');
                $("#assemblyChkId").prop("checked", true);
            } else {
                $("#assemblyChkId").attr('value', 'false');
                $("#assemblyChkId").prop("checked", false);
            }
            assemblyChk = $('#assemblyChkId').val();
            console.log("assemblyChk :" + assemblyChk);
            
            $("#smtChkId").prop("checked", false);
            $("#housingChkId").prop("checked", false);
            $("#batteryChkId").prop("checked", false);
            $("#assemblyChkId").prop("checked", false);
            
            ////////////////
            //$('#materialReceiveStartDateSmt').attr("disabled", true);
            //$('#materialReceiveEndDateSmt').attr("disabled", true);
            //$('#iqcCompleteStartDateSmt').attr("disabled", true);
            //$('#iqcCompleteEndDateSmt').attr("disabled", true);
            //$('#trialProductionStartDateSmt').attr("disabled", true);
            //$('#trialProductionEndDateSmt').attr("disabled", true);
            //$('#massProductionStartDateSmt').attr("disabled", true);
            //$('#massProductionEndDateSmt').attr("disabled", true);
            //$('#chargerSmt_TotalQuantity').attr("disabled", true);
            //$('#chargerSmt_PerDayCapacity').attr("disabled", true);
            //document.getElementById("smtMassLineInfo_chosen").disabled = true;
            

            //$('#materialReceiveStartDateHousing').attr("disabled", true);
            //$('#materialReceiveEndDateHousing').attr("disabled", true);
            //$('#iqcCompleteStartDateHousing').attr("disabled", true);
            //$('#iqcCompleteEndDateHousing').attr("disabled", true);
            //$('#trialProductionStartDateHousing').attr("disabled", true);
            //$('#trialProductionEndDateHousing').attr("disabled", true);
            //$('#housingReliabilityStartDateHousing').attr("disabled", true);
            //$('#housingReliabilityEndtDateHousing').attr("disabled", true);
            //$('#housingMassProStartDateHousing').attr("disabled", true);
            //$('#housingMassProEndtDateHousing').attr("disabled", true);
            //$('#chargerHousing_TotalQuantity').attr("disabled", true);
            //$('#chargerHousing_PerDayCapacity').attr("disabled", true);
            //document.getElementById("housingMassLineInfo_chosen").disabled = true;
            
            //$('#materialReceiveStartDateAssembly').attr("disabled", true);
            //$('#materialReceiveEndDateAssembly').attr("disabled", true);
            //$('#iqcCompleteStartDateAssembly').attr("disabled", true);
            //$('#iqcCompleteEndDateAssembly').attr("disabled", true);
            //$('#trialProductionStartDateAssembly').attr("disabled", true);
            //$('#trialProductionEndDateAssembly').attr("disabled", true);
            //$('#rnDConfirmStartDateAssembly').attr("disabled", true);
            //$('#rnDConfirmEndDateAssembly').attr("disabled", true);
            //$('#assembStartDateAssembly').attr("disabled", true);
            //$('#assembEndDateAssembly').attr("disabled", true);
            
            //$('#chargerAssembly_TotalQuantity').attr("disabled", true);
            //$('#chargerAssembly_PerDayCapacity').attr("disabled", true);
            //document.getElementById("assemblyMassLineInfo_chosen").disabled = true;
            ////////////////

            //$("#divSearchedvalue tbody.tBodyForCharger").clear();

            $.ajax({
                type: 'POST',
                url: '@Url.Action("GetChargerOldHistory", "Production")',
                data: "{ projectId: '" + selecteddropValue
                    + "', projectName: '" + selecteddropText
                    + "'}",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                async: false,
                success: function (data) {

                    console.log(data);
                    var dataList = [];
                    for (var x in data) {
                        dataList = data[x];
                    }
                    var l = dataList.length;

                    if (l == 0) {
                        

                        //////////////
                        $('#materialReceiveStartDateSmt').attr("disabled", true);
                        $('#materialReceiveEndDateSmt').attr("disabled", true);
                        $('#iqcCompleteStartDateSmt').attr("disabled", true);
                        $('#iqcCompleteEndDateSmt').attr("disabled", true);
                        $('#trialProductionStartDateSmt').attr("disabled", true);
                        $('#trialProductionEndDateSmt').attr("disabled", true);
                        $('#massProductionStartDateSmt').attr("disabled", true);
                        $('#massProductionEndDateSmt').attr("disabled", true);
                        $('#chargerSmt_TotalQuantity').attr("disabled", true);
                        $('#chargerSmt_PerDayCapacity').attr("disabled", true);
                        document.getElementById("smtMassLineInfo_chosen").disabled = true;


                        $('#materialReceiveStartDateHousing').attr("disabled", true);
                        $('#materialReceiveEndDateHousing').attr("disabled", true);
                        $('#iqcCompleteStartDateHousing').attr("disabled", true);
                        $('#iqcCompleteEndDateHousing').attr("disabled", true);
                        $('#trialProductionStartDateHousing').attr("disabled", true);
                        $('#trialProductionEndDateHousing').attr("disabled", true);
                        $('#housingReliabilityStartDateHousing').attr("disabled", true);
                        $('#housingReliabilityEndtDateHousing').attr("disabled", true);
                        $('#housingMassProStartDateHousing').attr("disabled", true);
                        $('#housingMassProEndtDateHousing').attr("disabled", true);
                        $('#chargerHousing_TotalQuantity').attr("disabled", true);
                        $('#chargerHousing_PerDayCapacity').attr("disabled", true);
                        document.getElementById("housingMassLineInfo_chosen").disabled = true;

                        $('#materialReceiveStartDateAssembly').attr("disabled", true);
                        $('#materialReceiveEndDateAssembly').attr("disabled", true);
                        $('#iqcCompleteStartDateAssembly').attr("disabled", true);
                        $('#iqcCompleteEndDateAssembly').attr("disabled", true);
                        $('#trialProductionStartDateAssembly').attr("disabled", true);
                        $('#trialProductionEndDateAssembly').attr("disabled", true);
                        $('#rnDConfirmStartDateAssembly').attr("disabled", true);
                        $('#rnDConfirmEndDateAssembly').attr("disabled", true);
                        $('#assembStartDateAssembly').attr("disabled", true);
                        $('#assembEndDateAssembly').attr("disabled", true);

                        $('#chargerAssembly_TotalQuantity').attr("disabled", true);
                        $('#chargerAssembly_PerDayCapacity').attr("disabled", true);
                        document.getElementById("assemblyMassLineInfo_chosen").disabled = true;
                        //////////////

                        //  $("#divSearchedvalue tbody.tBodyForCharger").clear();

                        $.trim($('#materialReceiveStartDateSmt').val(""));
                        $.trim($('#materialReceiveEndDateSmt').val(""));
                        $.trim($('#iqcCompleteStartDateSmt').val(""));
                        $.trim($('#iqcCompleteEndDateSmt').val(""));
                        $.trim($('#trialProductionStartDateSmt').val(""));
                        $.trim($('#trialProductionEndDateSmt').val(""));
                        $.trim($('#massProductionStartDateSmt').val(""));
                        $.trim($('#massProductionEndDateSmt').val(""));
                        $('#chargerSmt_TotalQuantity').val("");
                        $('#chargerSmt_PerDayCapacity').val("");
                        $('#smtMassLineInfo').val("");
                        $("#smtAllLineInformation tbody.smAllLineTBody").empty();

                        $.trim($('#materialReceiveStartDateHousing').val(""));
                        $.trim($('#materialReceiveEndDateHousing').val(""));
                        $.trim($('#iqcCompleteStartDateHousing').val(""));
                        $.trim($('#iqcCompleteEndDateHousing').val(""));
                        $.trim($('#trialProductionStartDateHousing').val(""));
                        $.trim($('#trialProductionEndDateHousing').val(""));
                        $.trim($('#housingReliabilityStartDateHousing').val(""));
                        $.trim($('#housingReliabilityEndtDateHousing').val(""));
                        $.trim($('#housingMassProStartDateHousing').val(""));
                        $.trim($('#housingMassProEndtDateHousing').val(""));
                        $('#chargerHousing_TotalQuantity').val("");
                        $('#chargerHousing_PerDayCapacity').val("");
                        $('#housingMassLineInfo').val("");
                        $("#housingAllLineInformation tbody.housingAllLineTBody").empty();

                        $.trim($('#materialReceiveStartDateAssembly').val(""));
                        $.trim($('#materialReceiveEndDateAssembly').val(""));
                        $.trim($('#iqcCompleteStartDateAssembly').val(""));
                        $.trim($('#iqcCompleteEndDateAssembly').val(""));
                        $.trim($('#trialProductionStartDateAssembly').val(""));
                        $.trim($('#trialProductionEndDateAssembly').val(""));
                        $.trim($('#rnDConfirmStartDateAssembly').val(""));
                        $.trim($('#rnDConfirmEndDateAssembly').val(""));
                        $.trim($('#assembStartDateAssembly').val(""));
                        $.trim($('#assembEndDateAssembly').val(""));
                        $('#chargerAssembly_TotalQuantity').val("");
                        $('#chargerAssembly_PerDayCapacity').val("");
                        $('#assemblyMassLineInfo').val("");
                        $("#assemblyAllLineInformation tbody.assemblyAllLineTBody").empty();
                    } else {
                        for (var ii = 0; ii < l; ii++) {

                            var smt1 = moment(dataList[ii].MaterialReceiveStartDateSmt).format('YYYY-MM-DD');
                            
                            if (smt1 != "Invalid date") {
                                $("#smtChkId").prop("checked", true);
                                $('#massProductionStartDateSmt').attr("disabled", false);
                                $('#massProductionEndDateSmt').attr("disabled", true);

                                $('#chargerSmt_TotalQuantity').attr("disabled", false);
                                $('#chargerSmt_PerDayCapacity').attr("disabled", false);
                                document.getElementById("smtMassLineInfo_chosen").disabled = false;
                                
                                //////
                                if (smt1 == "Invalid date") {
                                    $.trim($('#materialReceiveStartDateSmt').val(""));
                                    $('#materialReceiveStartDateSmt').attr("disabled", true);
                                } else {
                                    $.trim($('#materialReceiveStartDateSmt').val(moment(dataList[ii].MaterialReceiveStartDateSmt).format("YYYY-MM-DD")));

                                }

                                var smt2 = moment(dataList[ii].MaterialReceiveEndDateSmt).format('YYYY-MM-DD');
                                if (smt2 == "Invalid date") {
                                    $.trim($('#materialReceiveEndDateSmt').val(""));
                                    $('#materialReceiveEndDateSmt').attr("disabled", true);
                                } else {
                                    $.trim($('#materialReceiveEndDateSmt').val(moment(dataList[ii].MaterialReceiveEndDateSmt).format("YYYY-MM-DD")));
                                }
                                var smt3 = moment(dataList[ii].IqcCompleteStartDateSmt).format('YYYY-MM-DD');
                                if (smt3 == "Invalid date") {
                                    $.trim($('#iqcCompleteStartDateSmt').val(""));
                                    $('#iqcCompleteStartDateSmt').attr("disabled", true);
                                } else {
                                    $.trim($('#iqcCompleteStartDateSmt').val(moment(dataList[ii].IqcCompleteStartDateSmt).format("YYYY-MM-DD")));
                                }
                                var smt4 = moment(dataList[ii].IqcCompleteEndDateSmt).format('YYYY-MM-DD');
                                if (smt4 == "Invalid date") {
                                    $.trim($('#iqcCompleteEndDateSmt').val(""));
                                    $('#iqcCompleteEndDateSmt').attr("disabled", true);
                                } else {
                                    $.trim($('#iqcCompleteEndDateSmt').val(moment(dataList[ii].IqcCompleteEndDateSmt).format("YYYY-MM-DD")));
                                }

                                var smt5 = moment(dataList[ii].TrialProductionStartDateSmt).format('YYYY-MM-DD');
                                if (smt5 == "Invalid date") {
                                    $.trim($('#trialProductionStartDateSmt').val(""));
                                    $('#trialProductionStartDateSmt').attr("disabled", true);
                                } else {
                                    $.trim($('#trialProductionStartDateSmt').val(moment(dataList[ii].TrialProductionStartDateSmt).format("YYYY-MM-DD")));

                                }
                                var smt6 = moment(dataList[ii].TrialProductionEndDateSmt).format('YYYY-MM-DD');
                                if (smt6 == "Invalid date") {
                                    $.trim($('#trialProductionEndDateSmt').val(""));
                                    $('#trialProductionEndDateSmt').attr("disabled", true);
                                } else {
                                    $.trim($('#trialProductionEndDateSmt').val(moment(dataList[ii].TrialProductionEndDateSmt).format("YYYY-MM-DD")));
                                }

                                var smt7 = moment(dataList[ii].SmtMassProductionStartDateSmt).format('YYYY-MM-DD');
                                if (smt7 == "Invalid date") {
                                    $.trim($('#massProductionStartDateSmt').val(""));
                                    $('#massProductionStartDateSmt').attr("disabled", false);
                                } else {
                                    $.trim($('#massProductionStartDateSmt').val(moment(dataList[ii].SmtMassProductionStartDateSmt).format("YYYY-MM-DD")));

                                }

                                ///////

                            } else {
                                $("#smtChkId").prop("checked", false);
                                $('#materialReceiveStartDateSmt').attr("disabled", true);
                                $('#materialReceiveEndDateSmt').attr("disabled", true);
                                $('#iqcCompleteStartDateSmt').attr("disabled", true);
                                $('#iqcCompleteEndDateSmt').attr("disabled", true);
                                $('#trialProductionStartDateSmt').attr("disabled", true);
                                $('#trialProductionEndDateSmt').attr("disabled", true);
                                $('#massProductionStartDateSmt').attr("disabled", true);
                                $('#massProductionEndDateSmt').attr("disabled", true);

                                $('#chargerSmt_TotalQuantity').attr("disabled", true);
                                $('#chargerSmt_PerDayCapacity').attr("disabled", true);
                                document.getElementById("smtMassLineInfo_chosen").disabled = true;
                            }

                          
                            var housing1 = moment(dataList[ii].MaterialReceiveStartDateHousing).format('YYYY-MM-DD');
                            if (housing1 != "Invalid date") {
                                $("#housingChkId").prop("checked", true);
                                $('#housingMassProStartDateHousing').attr("disabled", false);
                                $('#housingMassProEndtDateHousing').attr("disabled", true);

                                $('#chargerHousing_TotalQuantity').attr("disabled", false);
                                $('#chargerHousing_PerDayCapacity').attr("disabled", false);
                                document.getElementById("housingMassLineInfo_chosen").disabled = false;
                                
                                //////////

                                if (housing1 == "Invalid date") {
                                    $.trim($('#materialReceiveStartDateHousing').val(""));
                                    $('#materialReceiveStartDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#materialReceiveStartDateHousing').val(moment(dataList[ii].MaterialReceiveStartDateHousing).format("YYYY-MM-DD")));
                                }


                                var housing2 = moment(dataList[ii].MaterialReceiveStartDateHousing).format('YYYY-MM-DD');

                                if (housing2 == "Invalid date") {
                                    $.trim($('#materialReceiveEndDateHousing').val(""));
                                    $('#materialReceiveEndDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#materialReceiveEndDateHousing').val(moment(dataList[ii].MaterialReceiveEndDateHousing).format("YYYY-MM-DD")));
                                }

                                var housing3 = moment(dataList[ii].IqcCompleteStartDateHousing).format("YYYY-MM-DD");

                                if (housing3 == "Invalid date") {
                                    $.trim($('#iqcCompleteStartDateHousing').val(""));
                                    $('#iqcCompleteStartDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#iqcCompleteStartDateHousing').val(moment(dataList[ii].IqcCompleteStartDateHousing).format("YYYY-MM-DD")));
                                }
                                var housing4 = moment(dataList[ii].IqcCompleteEndDateHousing).format("YYYY-MM-DD");
                                if (housing4 == "Invalid date") {
                                    $.trim($('#iqcCompleteEndDateHousing').val(""));
                                    $('#iqcCompleteEndDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#iqcCompleteEndDateHousing').val(moment(dataList[ii].IqcCompleteEndDateHousing).format("YYYY-MM-DD")));
                                }

                                var housing5 = moment(dataList[ii].TrialProductionStartDateHousing).format("YYYY-MM-DD");
                                if (housing5 == "Invalid date") {
                                    $.trim($('#trialProductionStartDateHousing').val(""));
                                    $('#trialProductionStartDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#trialProductionStartDateHousing').val(moment(dataList[ii].TrialProductionStartDateHousing).format("YYYY-MM-DD")));

                                }
                                var housing6 = moment(dataList[ii].TrialProductionEndDateHousing).format("YYYY-MM-DD");
                                if (housing6 == "Invalid date") {
                                    $.trim($('#trialProductionEndDateHousing').val(""));
                                    $('#trialProductionEndDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#trialProductionEndDateHousing').val(moment(dataList[ii].TrialProductionEndDateHousing).format("YYYY-MM-DD")));

                                }

                                var housing7 = moment(dataList[ii].HousingReliabilityStartDateHousing).format("YYYY-MM-DD");
                                if (housing7 == "Invalid date") {
                                    $.trim($('#housingReliabilityStartDateHousing').val(""));
                                    $('#housingReliabilityStartDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#housingReliabilityStartDateHousing').val(moment(dataList[ii].HousingReliabilityStartDateHousing).format("YYYY-MM-DD")));

                                }

                                var housing8 = moment(dataList[ii].HousingReliabilityEndtDateHousing).format("YYYY-MM-DD");
                                if (housing8 == "Invalid date") {
                                    $.trim($('#housingReliabilityEndtDateHousing').val(""));
                                    $('#housingReliabilityEndtDateHousing').attr("disabled", true);
                                } else {
                                    $.trim($('#housingReliabilityEndtDateHousing').val(moment(dataList[ii].HousingReliabilityEndtDateHousing).format("YYYY-MM-DD")));
                                }

                                var housing9 = moment(dataList[ii].HousingMassProStartDateHousing).format("YYYY-MM-DD");
                                if (housing9 == "Invalid date") {
                                    $.trim($('#housingMassProStartDateHousing').val(""));
                                    $('#housingMassProStartDateHousing').attr("disabled", false);
                                } else {
                                    $.trim($('#housingMassProStartDateHousing').val(moment(dataList[ii].HousingMassProStartDateHousing).format("YYYY-MM-DD")));
                                }

                                //////////
                            } else {
                                $("#housingChkId").prop("checked", false);

                                $('#materialReceiveStartDateHousing').attr("disabled", true);
                                $('#materialReceiveEndDateHousing').attr("disabled", true);
                                $('#iqcCompleteStartDateHousing').attr("disabled", true);
                                $('#iqcCompleteEndDateHousing').attr("disabled", true);
                                $('#trialProductionStartDateHousing').attr("disabled", true);
                                $('#trialProductionEndDateHousing').attr("disabled", true);
                                $('#housingReliabilityStartDateHousing').attr("disabled", true);
                                $('#housingReliabilityEndtDateHousing').attr("disabled", true);
                                $('#housingMassProStartDateHousing').attr("disabled", true);
                                $('#housingMassProEndtDateHousing').attr("disabled", true);

                                $('#chargerHousing_TotalQuantity').attr("disabled", true);
                                $('#chargerHousing_PerDayCapacity').attr("disabled", true);
                                document.getElementById("housingMassLineInfo_chosen").disabled = true;
                            }



                            var assembly1 = moment(dataList[ii].MaterialReceiveStartDateAssembly).format("YYYY-MM-DD");
                            if (assembly1 != "Invalid date") {
                                $("#assemblyChkId").prop("checked", true);
                                
                                $('#materialReceiveStartDateAssembly').attr("disabled", false);
                                $('#assembStartDateAssembly').attr("disabled", false);
                                $('#assembEndDateAssembly').attr("disabled", true);

                                $('#chargerAssembly_TotalQuantity').attr("disabled", false);
                                $('#chargerAssembly_PerDayCapacity').attr("disabled", false);
                                document.getElementById("assemblyMassLineInfo_chosen").disabled = false;

                            } else {
                                $("#assemblyChkId").prop("checked", false);
                                
                                $('#materialReceiveStartDateAssembly').attr("disabled", true);
                                $('#materialReceiveEndDateAssembly').attr("disabled", true);
                                $('#iqcCompleteStartDateAssembly').attr("disabled", true);
                                $('#iqcCompleteEndDateAssembly').attr("disabled", true);
                                $('#trialProductionStartDateAssembly').attr("disabled", true);
                                $('#trialProductionEndDateAssembly').attr("disabled", true);
                                $('#rnDConfirmStartDateAssembly').attr("disabled", true);
                                $('#rnDConfirmEndDateAssembly').attr("disabled", true);
                                $('#assembStartDateAssembly').attr("disabled", true);
                                $('#assembEndDateAssembly').attr("disabled", true);

                                $('#chargerAssembly_TotalQuantity').attr("disabled", true);
                                $('#chargerAssembly_PerDayCapacity').attr("disabled", true);
                                document.getElementById("assemblyMassLineInfo_chosen").disabled = true;
                            }
                            $.trim($('#materialReceiveStartDateAssembly').val(moment(dataList[ii].MaterialReceiveStartDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#materialReceiveEndDateAssembly').val(moment(dataList[ii].MaterialReceiveEndDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#iqcCompleteStartDateAssembly').val(moment(dataList[ii].IqcCompleteStartDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#iqcCompleteEndDateAssembly').val(moment(dataList[ii].IqcCompleteEndDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#trialProductionStartDateAssembly').val(moment(dataList[ii].TrialProductionStartDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#trialProductionEndDateAssembly').val(moment(dataList[ii].TrialProductionEndDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#rnDConfirmStartDateAssembly').val(moment(dataList[ii].RnDConfirmStartDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#rnDConfirmEndDateAssembly').val(moment(dataList[ii].RnDConfirmEndDateAssembly).format("YYYY-MM-DD")));
                            $.trim($('#assembStartDateAssembly').val(moment(dataList[ii].AssembStartDateAssembly).format("YYYY-MM-DD")));

                        }
                    }

                }
            });
            ////////////
            //smtProName
        }

    });
    function chargerSmtTotalQuantityCheck() {
        var massProductionStartDateSmt = $('#massProductionStartDateSmt').val();

        if (massProductionStartDateSmt == "") {
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Please must select SMT Mass Production Date 1st.",
            }).show();
            $('#chargerSmt_TotalQuantity').val("");
            return false;

        }

    }
    function chargerHousingTotalQuantityCheck() {
        var housingMassProStartDateHousing = $('#housingMassProStartDateHousing').val();

        if (housingMassProStartDateHousing == "") {
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Please must select Housing Mass Production Date 1st.",
            }).show();
            $('#chargerHousing_TotalQuantity').val("");
            return false;
        }

    }
    function chargerAssemblyTotalQuantityCheck() {
        var assembStartDateAssembly = $('#assembStartDateAssembly').val();

        if (assembStartDateAssembly == "") {
            alertify.dialog('alert').set({
                'title': '   ',
                'transition': 'zoom',
                'message': "Please must select Assembly Production Date 1st.",
            }).show();
            $('#chargerAssembly_TotalQuantity').val("");
            return false;
        }

    }
    function refresh() {
        $.blockUI({ message: '<h1><img src="~/img/loading-spinner-grey.gif" /> LOADING..</h1>' });
        setTimeout(function () {
            window.location.reload();

        }, 1000);
    }
    var tableToExcel = (function () {
        var uri = 'data:application/vnd.ms-excel;base64,'
        , template = '<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>'
        , base64 = function (s) { return window.btoa(unescape(encodeURIComponent(s))) }
        , format = function (s, c) { return s.replace(/{(\w+)}/g, function (m, p) { return c[p]; }) }
        return function (table, name, filename) {
            if (!table.nodeType) table = document.getElementById(table)
            var ctx = { worksheet: name || 'Worksheet', table: table.innerHTML }

            document.getElementById("dlink").href = uri + base64(format(template, ctx));
            document.getElementById("dlink").download = filename;
            document.getElementById("dlink").click();

        }
    })()
</script>
